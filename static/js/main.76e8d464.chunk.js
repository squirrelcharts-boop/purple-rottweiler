(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[0],[,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return h}),n.d(t,"o",function(){return O}),n.d(t,"q",function(){return p}),n.d(t,"r",function(){return m}),n.d(t,"s",function(){return v}),n.d(t,"t",function(){return x}),n.d(t,"u",function(){return y}),n.d(t,"v",function(){return k}),n.d(t,"w",function(){return w}),n.d(t,"x",function(){return C}),n.d(t,"p",function(){return S}),n.d(t,"A",function(){return E}),n.d(t,"I",function(){return R}),n.d(t,"y",function(){return T}),n.d(t,"z",function(){return A}),n.d(t,"N",function(){return N}),n.d(t,"L",function(){return _}),n.d(t,"C",function(){return L}),n.d(t,"O",function(){return I}),n.d(t,"P",function(){return P}),n.d(t,"F",function(){return D}),n.d(t,"E",function(){return F}),n.d(t,"M",function(){return B}),n.d(t,"K",function(){return M}),n.d(t,"G",function(){return U}),n.d(t,"H",function(){return z}),n.d(t,"B",function(){return W}),n.d(t,"Q",function(){return H}),n.d(t,"R",function(){return G}),n.d(t,"D",function(){return V}),n.d(t,"J",function(){return K}),n.d(t,"S",function(){return q});const c="r34-react/ADD_ALIASES",r="r34-react/ADD_POSTS",o="r34-react/ADD_TAG",i="r34-react/CLOSE_MODAL",a="r34-react/ENTER_FULLSCREEN",s="r34-react/EXIT_FULLSCREEN",u="r34-react/FETCH_COMMENTS",l="r34-react/FETCH_PREFERENCES",d="r34-react/FETCH_SUGGESTIONS",b="r34-react/GET_MORE_RESULTS",f="r34-react/GET_RESULTS",j="r34-react/LIKE_POST",g="r34-react/OPEN_MODAL",h="r34-react/REMOVE_TAG",O="r34-react/SAVE_PREFERENCES",p="r34-react/SET_COMMENTS",m="r34-react/SET_FULLSCREEN_POST",v="r34-react/SET_POSTS",x="r34-react/SET_PREFERENCE",y="r34-react/SET_PREFERENCES",k="r34-react/SET_SUGGESTIONS",w="r34-react/SET_SUGGESTIONS_ERROR",C="r34-react/SET_SUGGESTIONS_MODIFIER",S="r34-react/SCROLL_TO_POST";function E(e){return{type:o,tag:e}}function R(e){return{type:h,tagName:e}}function T(e,t){return{type:c,aliases:e,forTag:t}}function A(e){return{type:r,posts:e}}function N(e,t){return{type:v,posts:e,count:t,pageNumber:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}function _(e,t){return{type:p,postId:e,comments:t}}function L(e){return{type:u,postId:e}}function I(e,t){return{type:x,key:e,value:t}}function P(e){return{type:y,preferences:e}}function D(){return{type:f,pageNumber:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}function F(){return{type:b}}function B(e){return{type:m,index:e}}function M(e){return{type:S,index:e}}function U(e){return{type:j,postId:e}}function z(e){return{type:g,modalId:e}}function W(){return{type:i}}function H(e){return{type:k,suggestions:e}}function G(e){return{type:w,error:e}}function V(e,t){return{type:d,value:e,includeSupertags:t}}function K(){return{type:O}}function q(e){return{type:C,modifier:e}}},,,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return f}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return h}),n.d(t,"r",function(){return O}),n.d(t,"t",function(){return p}),n.d(t,"u",function(){return m}),n.d(t,"w",function(){return v}),n.d(t,"v",function(){return x}),n.d(t,"x",function(){return y}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return w}),n.d(t,"B",function(){return C}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return E}),n.d(t,"E",function(){return R}),n.d(t,"G",function(){return T}),n.d(t,"H",function(){return A}),n.d(t,"g",function(){return N}),n.d(t,"A",function(){return _}),n.d(t,"o",function(){return L}),n.d(t,"e",function(){return I}),n.d(t,"k",function(){return D}),n.d(t,"l",function(){return F}),n.d(t,"n",function(){return U}),n.d(t,"F",function(){return z}),n.d(t,"h",function(){return W}),n.d(t,"s",function(){return H}),n.d(t,"m",function(){return G}),n.d(t,"a",function(){return V});var c=n(2),r=n(25),o=n(43),i=n(14),a=n(35);const s=e=>e.tags.active,u=e=>e.preferences.themeId,l=e=>e.tags.aliases,d=e=>e.preferences.autoPlay,b=e=>e.preferences.cookies,f=e=>e.results.count,j=e=>e.modals.openModal,g=e=>e.preferences.originals,h=e=>e.results.pageNumber,O=e=>e.preferences.pageSize,p=e=>e.results.posts,m=e=>e.preferences,v=e=>e.preferences.preloadVideos,x=e=>e.preferences.preloadVideos,y=e=>e.preferences.resultsLayout,k=e=>e.preferences.showComments,w=e=>e.preferences.showMetadata,C=e=>e.preferences.sort,S=e=>e.suggestions.entries,E=e=>e.suggestions.error,R=e=>e.suggestions.modifier,T=e=>e.preferences.tagSuggestionsCount,A=e=>e.results.updated,N=e=>e.preferences.autoscrollDelay,_=e=>e.preferences.showPostDetails,L=Object(r.a)(s,e=>Object.keys(e).length),I=Object(r.a)(l,e=>Object.values(e).flat()),P=(Object(r.a)(p,e=>0!==e.length),Object(r.a)(p,f,(e,t)=>e.length===t)),D=Object(r.a)(P,e=>!e),F=Object(r.a)(f,O,(e,t)=>Math.ceil(e/t)-1),B=Object(r.a)(p,e=>e.fullscreen.currentIndex,(e,t)=>e[t]),M=Object(r.a)(p,B,(e,t)=>t?e.indexOf(t):-1),U=Object(r.a)(e=>e.preferences.rated,e=>e.preferences.ratedThreshold,(e,t)=>e?t:0),z=(Object(r.a)(p,M,(e,t)=>t+1<e.length?t+1:void 0),Object(r.a)(M,e=>e>0?e-1:void 0),Object(r.a)(j,e=>e===a.a.CREATE_SUPERTAG)),W=Object(r.a)(j,e=>e===a.a.CELLULAR_WARNING),H=Object(o.a)(e=>Object(r.a)(p,t=>t.find(t=>t.id===e))),G=(Object(o.a)(e=>Object(r.a)(p,t=>t[e])),Object(o.a)(e=>Object(r.a)(l,t=>t[e])),Object(o.a)(e=>t=>e in t.likes)),V=Object(r.a)(s,e=>Object.values(e).filter(i.e).reduce((e,t)=>Object(c.a)(Object(c.a)({},e),t.tags),{}))},,,,function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u});var c=n(2);function r(e){return encodeURIComponent(e.toLowerCase().replace(/ /g,"_"))}function o(e,t){return Object(c.a)(Object(c.a)({},e),{},{modifier:t})}function i(e){return void 0!==e.modifier}function a(e){return void 0!==e.tags}function s(e){return e.find(e=>!e.match(/^[general|ambiguous]$/))}function u(e){return void 0!==e.message}}).call(this,n(81).Buffer)},function(e,t,n){"use strict";n.d(t,"i",function(){return O}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"f",function(){return x}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return k}),n.d(t,"g",function(){return w}),n.d(t,"a",function(){return S});var c,r,o,i,a,s,u,l,d,b,f=n(5),j=n(3),g=n(37),h=n(24);function O(e){let{theme:t}=e;return Object(j.c)(c||(c=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    ","\n    ","\n  "])),Object(g.d)(t.dimensions.bigSpacing),Object(g.c)(t.dimensions.bigSpacing))}function p(){return Object(j.c)(r||(r=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n  "])))}function m(e){let{theme:t}=e;return Object(j.c)(o||(o=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n  "])),Object(g.c)(t.dimensions.bigSpacing))}function v(e){let{theme:t}=e;return Object(j.c)(i||(i=Object(f.a)(["\n    display: grid;\n    ","\n  "])),Object(g.e)(t.dimensions.bigSpacing))}function x(e){let{theme:t}=e;return Object(j.c)(a||(a=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    ",";\n  "])),Object(g.d)(t.dimensions.bigSpacing))}function y(e){let{theme:t}=e;return Object(j.c)(s||(s=Object(f.a)(["\n    width: 100%;\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n  "])),t.dimensions.bodyWidth)}function k(e){let{theme:t}=e;return Object(j.c)(u||(u=Object(f.a)(["\n    height: ",";\n    padding: 0 ",";\n  "])),t.dimensions.blockHeight,t.dimensions.bigSpacing)}function w(){return Object(j.c)(l||(l=Object(f.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    ",";\n  "])),C)}function C(){return Object(j.c)(d||(d=Object(f.a)(["\n    width: 100vw;\n    height: 100vh;\n  "])))}function S(e){let{theme:t}=e;return Object(j.c)(b||(b=Object(f.a)(["\n    display: inline-flex;\n    align-items: center;\n    place-content: center;\n\n    height: ",";\n    cursor: pointer;\n    white-space: nowrap;\n    border-radius: ",";\n    font-size: ",";\n    ","\n    ","\n  "])),t.dimensions.blockHeight,t.dimensions.borderRadius,t.fontSizes.content,g.a,h.i)}},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return x}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return k}),n.d(t,"q",function(){return w}),n.d(t,"r",function(){return C}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return E}),n.d(t,"u",function(){return R}),n.d(t,"v",function(){return T}),n.d(t,"w",function(){return A}),n.d(t,"x",function(){return N}),n.d(t,"z",function(){return _}),n.d(t,"A",function(){return L}),n.d(t,"B",function(){return I}),n.d(t,"C",function(){return P}),n.d(t,"D",function(){return D}),n.d(t,"E",function(){return F}),n.d(t,"p",function(){return B}),n.d(t,"d",function(){return M}),n.d(t,"y",function(){return U}),n.d(t,"b",function(){return z});var c=n(2),r=n(44),o=n(12),i=n(97),a=n(1),s=n.n(a),u=n(4);const l=e=>s.a.memo(t=>Object(u.jsx)(i.a,Object(c.a)({"data-testid":"icon",icon:e},t))),d=l(o.e),b=l(o.u),f=l(o.d),j=l(o.F),g=l(o.g),h=l(o.C),O=(l(o.h),l(o.j),l(o.k)),p=l(r.a),m=l(r.b),v=l(o.l),x=l(o.m),y=l(o.n),k=l(o.D),w=(l(r.c),l(r.d),l(o.q)),C=l(o.r),S=l(o.t),E=l(o.s),R=l(r.e),T=(l(o.v),l(o.G),l(o.w)),A=l(o.y),N=(l(o.i),l(o.z),l(o.A),l(o.p)),_=l(o.f),L=l(o.B),I=(l(o.x),l(r.f)),P=l(r.g),D=l(o.E),F=l(o.H),B=l(o.o),M=l(o.c),U=l(o.a),z=l(o.b)},,,,function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"c",function(){return O}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return x});var c,r,o,i,a,s,u,l=n(5),d=n(3),b=n(15),f=n(75),j=n(24);const g=d.d.button(c||(c=Object(l.a)(["\n  ","\n"])),b.a),h=d.d.a(e=>{let{theme:t}=e;return Object(d.c)(r||(r=Object(l.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n    background-color: ",";\n    border-radius: ",";\n    color: ",";\n\n    :visited {\n      color: "," !important;\n      text-decoration: none !important;\n    }\n\n    :hover {\n      opacity: 0.8;\n      text-decoration: none !important;\n    }\n\n    :active {\n      opacity: 0.6;\n      text-decoration: none !important;\n    }\n  "])),b.a,t.dimensions.bigSpacing,t.dimensions.hugeSpacing,t.colors.layerBg,t.dimensions.borderRadius,t.colors.text,t.colors.text)}),O=d.d.button(e=>{let{theme:t}=e;return Object(d.c)(o||(o=Object(l.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    color: ",";\n    cursor: pointer;\n    font-size: ",";\n\n    ","\n\n    svg {\n      ","\n    }\n  "])),t.dimensions.bigSpacing,t.colors.text,t.fontSizes.content,f.a,j.i)}),p=Object(d.d)(g)(e=>{let{theme:t}=e;return Object(d.c)(i||(i=Object(l.a)(["\n    ","\n\n    gap: ",";\n    padding: 0 ",";\n  "])),j.f,t.dimensions.bigSpacing,t.dimensions.hugeSpacing)}),m=Object(d.d)(p)(a||(a=Object(l.a)(["\n  width: 100%;\n"]))),v=Object(d.d)(p)(e=>{let{theme:t}=e;return Object(d.c)(s||(s=Object(l.a)(["\n    border-radius: 0 "," "," 0;\n    min-width: ",";\n  "])),t.dimensions.borderRadius,t.dimensions.borderRadius,t.dimensions.blockHeight)}),x=Object(d.d)(g)(e=>{let{theme:t}=e;return Object(d.c)(u||(u=Object(l.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    font-size: 24px;\n\n    :focus {\n      text-decoration: none;\n    }\n\n    ","\n    border-right-width: 0;\n    border-radius: "," 0 0 ",";\n  "])),j.b,t.dimensions.borderRadius,t.dimensions.borderRadius)})},function(e,t,n){"use strict";n.d(t,"i",function(){return h}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return v}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return k}),n.d(t,"h",function(){return w}),n.d(t,"c",function(){return C});var c,r,o,i,a,s,u,l,d,b,f=n(5),j=n(3),g=n(15);function h(e){let{theme:t}=e;return Object(j.c)(c||(c=Object(f.a)(["\n    transition: all "," linear;\n  "])),t.timings.transitionTime)}function O(e){let{theme:t}=e;return Object(j.c)(r||(r=Object(f.a)(["\n    border-radius: ",";\n  "])),t.dimensions.borderRadius)}function p(e){let{theme:t}=e;return Object(j.c)(o||(o=Object(f.a)(["\n    border-color: ",";\n    border-width: ",";\n    border-style: solid;\n    ","\n  "])),t.colors.accentColor,t.dimensions.borderWidth,O)}function m(e){let{theme:t,disabled:n}=e;return Object(j.c)(i||(i=Object(f.a)(["\n    color: ",";\n    background-color: ",";\n    border: none;\n\n    ","\n    ","\n  "])),t.colors.backgroundColor,n?t.colors.subduedText:t.colors.accentColor,h,y)}function v(e){let{theme:t,disabled:n}=e;const c=n?t.colors.subduedText:t.colors.accentColor;return Object(j.c)(a||(a=Object(f.a)(["\n    color: ",";\n    background-color: transparent;\n\n    ","\n    ","\n    ","\n  "])),c,h,p,y)}function x(e){let{theme:t}=e;return Object(j.c)(s||(s=Object(f.a)(["\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),t.colors.backgroundColor2,t.colors.backgroundColor2)}function y(e){let{disabled:t}=e;return t?"":Object(j.c)(u||(u=Object(f.a)(["\n        :hover {\n          filter: brightness(120%);\n        }\n\n        :focus {\n          ","\n        }\n\n        :active {\n          filter: brightness(90%);\n        }\n      "])),x)}function k(e){let{theme:t}=e;return Object(j.c)(l||(l=Object(f.a)(["\n    background-color: ",";\n    ","\n  "])),t.colors.layerBg,O)}function w(e){let{theme:t}=e;return Object(j.c)(d||(d=Object(f.a)(["\n    background-color: ",";\n    ","\n  "])),t.colors.layerBgSolid,O)}function C(e){let{theme:t}=e;return Object(j.c)(b||(b=Object(f.a)(["\n    ","\n    ","\n   \n    background-color: ",";\n    cursor: pointer;\n  "])),p,g.c,t.colors.backgroundColor2)}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});let c=function(e){return e.SEARCH="/",e.PREFERENCES="/preferences",e.ABOUT="/about",e.PRIVACY="/privacy",e.TERMS="/terms",e.STORIES="/stories",e.SHARE="/share",e}({}),r=function(e){return e[e.CREATE_SUPERTAG=0]="CREATE_SUPERTAG",e[e.CELLULAR_WARNING=1]="CELLULAR_WARNING",e}({});const o=()=>{}},,function(e,t,n){"use strict";n.d(t,"e",function(){return j}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return p});var c,r,o,i,a,s,u,l,d=n(5),b=n(3),f=n(42);function j(e){return f.c?Object(b.c)(c||(c=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(r||(r=Object(d.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n          margin-bottom: ",";\n        }\n      "])),e,e)}function g(e){return f.b?Object(b.c)(o||(o=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(i||(i=Object(d.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n        }\n      "])),e)}function h(e){return f.b?Object(b.c)(a||(a=Object(d.a)(["\n        gap: ",";\n      "])),e):Object(b.c)(s||(s=Object(d.a)(["\n        > :not(:last-child) {\n          margin-bottom: ",";\n        }\n      "])),e)}function O(e){let{theme:t}=e;return Object(b.c)(u||(u=Object(d.a)(["\n    ",";\n    padding: ",";\n  "])),j(t.dimensions.bigSpacing),t.dimensions.bigSpacing)}function p(e){let{theme:t}=e;return Object(b.c)(l||(l=Object(d.a)(["\n    ",";\n    padding: 0 ",";\n  "])),j(t.dimensions.bigSpacing),t.dimensions.bigSpacing)}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});let c=function(e){return e[e.POST=1]="POST",e[e.OVERLAY=2]="OVERLAY",e[e.COOKIEBAR=100]="COOKIEBAR",e[e.DROPDOWN=3]="DROPDOWN",e[e.MODAL=1e3]="MODAL",e}({})},,function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o});const c=(()=>{var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=1===e.scrollHeight;return e.parentNode.removeChild(e),t})(),r="gap"in document.body.style,o="aspect-ratio"in document.body.style;document.body.style,document.fullscreenEnabled,"connection"in navigator||"mozConnection"in navigator||navigator,Boolean(localStorage)},,,function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return c}),n.d(t,"f",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return l});const c=(e,t)=>e.reduce((e,n)=>(e[n[t]]=n,e),{});function r(e){try{return new URL(e)}catch(t){return}}function o(e){return Number(e.split(".").join(""))}function i(e){const t=e.split("/").pop()||"";fetch("https://r34-json.herokuapp.com/images?url=".concat(e)).then(e=>e.blob()).then(e=>{var n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),document.body.appendChild(n),n.click(),n.remove()}).catch(e=>console.error("Download error:",e))}function a(){var t,n;return null!==(t=e)&&void 0!==t&&null!==(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"3.1.0"}))&&void 0!==n&&n.REACT_APP_VERSION?"3.1.0":"unknown"}function s(){const e=a();return"unknown"===e?"Latest Release":"Version ".concat(e)}function u(e){return e?1:0}const l=e=>Math.floor(Math.random()*e)}).call(this,n(52))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var c=n(1),r=n(11);function o(e){const t=Object(r.b)();return Object(c.useCallback)(()=>t(e()),[e,t])}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n(1),r=n(11),o=n(6),i=n(10);function a(e){const t=Object(r.b)(),n=Object(r.c)(i.u),a=Object(c.useCallback)(n=>t(Object(o.O)(e,n)),[t,e]);return[n[e],a]}},,function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return f});var c,r,o,i,a=n(5),s=n(3),u=n(15);const l=s.d.h2(e=>{let{theme:t}=e;return Object(s.c)(c||(c=Object(a.a)(["\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),t.fontSizes.bigTitle)}),d=s.d.h1(e=>{let{theme:t}=e;return Object(s.c)(r||(r=Object(a.a)(["\n    ","\n\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),Object(u.f)({theme:t}),t.fontSizes.bigTitle)}),b=s.d.h3(e=>{let{theme:t}=e;return Object(s.c)(o||(o=Object(a.a)(["\n    font-size: ",";\n  "])),t.fontSizes.content)}),f=s.d.span(e=>{let{theme:t}=e;return Object(s.c)(i||(i=Object(a.a)(["\n    color: ",";\n  "])),t.colors.subduedText)})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d});var c=n(45);const r=e=>e/1e6>=1?"".concat(Math.trunc(e/1e6),"M"):e>=1e3?"".concat(Math.trunc(e/1e3),"K"):e.toString(),o=e=>{const t=Object(c.f)(e);return t?t.host:e};function i(e){const t=Math.trunc(e/60),n=Math.trunc(e%60);return t+":"+(n<10?"0":"")+n}function a(e){return e.replace(/_/g," ").replace(/source:/g,"").replace(/rating:/g,"")}function s(e,t){return t?"".concat(a(e)," (").concat(r(t),")"):a(e)}const u=e=>e<10?"0".concat(e):e.toString();function l(e){const t=u(e.getDate()),n=u(e.getMonth()+1),c=e.getFullYear(),r=u(e.getHours()),o=u(e.getMinutes());return"".concat(t,"/").concat(n,"/").concat(c," ").concat(r,":").concat(o)}function d(e){return e>=315576e5?b(e,315576e5,"year"):e>=2629756800?b(e,2629756800,"month"):e>=6048e5?b(e,6048e5,"week"):e>=854e5?b(e,854e5,"day"):e>=36e5?b(e,36e5,"hour"):e>=6e4?b(e,6e4,"minute"):e>=1e3?b(e,1e3,"second"):"".concat(e," ms")}function b(e,t,n){const c=(e/t).toFixed(0),r="1"===c?n:"".concat(n,"s");return"".concat(c," ").concat(r)}},,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var c,r,o=n(5),i=n(3),a=n(37),s=n(24);const u=i.d.div(c||(c=Object(o.a)(["\n  display: grid;\n  ","\n  ","\n  width: 100%;\n"])),a.b,s.e),l=i.d.div(r||(r=Object(o.a)(["\n  ","\n  ","\n  width: 100%;\n"])),a.b,s.h)},function(e,t,n){"use strict";var c,r=n(5),o=n(3),i=n(69);const a=o.d.img(c||(c=Object(r.a)(["\n  ","\n  ","\n"])),i.a,i.c);t.a=a},,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(1);var c=n(19),r=n(4);function o(e){const{type:t,className:n=""}=e;switch(t){case"character":return Object(r.jsx)(c.f,{className:n});case"copyright":return Object(r.jsx)(c.i,{className:n});case"artist":return Object(r.jsx)(c.c,{className:n});case"rating":return Object(r.jsx)(c.v,{className:n});case"source":return Object(r.jsx)(c.x,{className:n});case"metadata":return Object(r.jsx)(c.t,{className:n});case"supertag":return Object(r.jsx)(c.A,{className:n});default:return null}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c,r=n(5),o=n(3);function i(e){let{theme:t}=e;return Object(o.c)(c||(c=Object(r.a)(["\n    overflow-x: hidden;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n\n      :hover {\n        background: ",";\n      }\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: ",";\n      border-left: 1px lightgray solid;\n    }\n\n    /* Handle */\n    :hover {\n      ::-webkit-scrollbar {\n        background: ","20;\n      }\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ","40;\n      border-radius: 100px;\n\n      :hover {\n        background: ","30;\n      }\n    }\n  "])),t.colors.layerBg,t.colors.backgroundColor2,t.colors.backgroundColor,t.colors.backgroundColor,t.colors.backgroundColor)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});n(1);var c,r,o,i,a=n(73),s=n(5),u=n(3),l=n(42),d=n(24),b=n(4);const f=u.d.div(e=>Object(u.c)(c||(c=Object(s.a)(["\n    height: 24px;\n    width: 50px;\n    ","\n    border-radius: 30px;\n    background-color: transparent;\n    transition: transform "," ease-in-out;\n    cursor: pointer;\n  "])),Object(d.b)(e),e.theme.timings.longTransitionTime));const j=u.d.div(e=>Object(u.c)(i||(i=Object(s.a)(["\n    ","\n    background-color: ",";\n    border-radius: 100px;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),l.a?Object(u.c)(r||(r=Object(s.a)(["\n        height: 100%;\n        aspect-ratio: 1/1;\n      "]))):Object(u.c)(o||(o=Object(s.a)(["\n        height: 100%;\n        width: 22px;\n      "]))),e.value?e.theme.colors.accentColor:e.theme.colors.toggleOff,e.value?"26px":"0px"));function g(e){const{value:t,onToggle:n}=e;return Object(b.jsx)(f,{onClick:n,role:"checkbox","aria-checked":t,children:Object(b.jsx)(j,{value:t})})}function h(e){const{children:t,value:n,onToggle:c,className:r}=e;return Object(b.jsxs)(a.a,{className:r,children:[Object(b.jsx)(g,{value:n,onToggle:c}),Object(b.jsx)("span",{children:t})]})}},,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return f});var c,r,o,i,a=n(5),s=n(3),u=n(42),l=n(24);function d(){return Object(s.c)(c||(c=Object(a.a)(["\n    ","\n  "])),l.a)}function b(){return Object(s.c)(r||(r=Object(a.a)(["\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: contain;\n  "])))}function f(e){let{width:t,height:n}=e;return t&&n?u.a?Object(s.c)(o||(o=Object(a.a)(["\n        aspect-ratio: "," / ",";\n      "])),t,n):Object(s.c)(i||(i=Object(a.a)(["\n        max-width: 100%;\n        height: auto;\n      "]))):""}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});n(2);const c=e=>void 0!==e.tags,r=e=>void 0!==e.message;function o(e){const t=function(e){let t=[];return e.forEach(e=>{c(e)?Object.entries(e.tags).forEach(e=>{let[n,c]=e;t.push({name:n,modifier:c})}):t.push(e)}),t}(Object.values(e)),n=function(e){return e.reduce((e,t)=>{var n;return t.modifier in e||(e[t.modifier]=[]),null===(n=e[t.modifier])||void 0===n||n.push(t),e},{"+":[],"-":[],"~":[]})}(t),r=[...n["+"],...n["-"]].map(i).join(" + "),o=n["~"].length>0?" + ( ".concat(n["~"].map(i).join(" ~ ")," )"):"";return"".concat(r).concat(o)}function i(e){return"".concat("-"===e.modifier?"-":"").concat((t=e.name,encodeURIComponent(t.toLowerCase().replace(/ /g,"_"))));var t}}).call(this,n(81).Buffer)},,,function(e,t,n){"use strict";var c,r=n(5),o=n(3),i=n(15);const a=o.d.div(c||(c=Object(r.a)(["\n  ","\n"])),i.f);t.a=a},,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c,r=n(5),o=n(3);function i(e){let{theme:t}=e;return Object(o.c)(c||(c=Object(r.a)(["\n    filter: drop-shadow(0 1px "," ",");\n  "])),t.shadow.radius,t.shadow.color)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n(1),r=n(11),o=n(6),i=n(10);function a(){const e=Object(r.b)(),t=Object(r.c)(i.b);return Object(c.useCallback)(n=>{n.name in t?e(Object(o.I)(n.name)):e(Object(o.A)(n))},[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n(1);function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=Object(c.useState)(e),r=Object(c.useCallback)(()=>n(!t),[t]),o=Object(c.useCallback)(()=>n(e),[e]);return[t,r,o]}},function(e,t,n){"use strict";n.d(t,"a",function(){return X});var c,r,o,i=n(5),a=n(1),s=n.n(a),u=n(3),l=n(15),d=n(14),b=n(77),f=n(19),j=n(61),g=n(11),h=n(6),O=n(51);const p={"+":Object(u.c)(c||(c=Object(i.a)([""]))),"-":Object(u.c)(r||(r=Object(i.a)(["\n    text-decoration: line-through;\n  "]))),"~":Object(u.c)(o||(o=Object(i.a)(["\n    font-style: italic;\n  "])))},m=u.d.span(e=>{let{modifier:t="+"}=e;return p[t]});var v,x=n(4);function y(e){const{modifier:t,name:n,count:c}=e;return Object(x.jsx)(m,{modifier:t,children:Object(O.f)(n,c)})}const k=u.d.div(e=>{let{theme:t}=e;return Object(u.c)(v||(v=Object(i.a)(["\n    ","\n    padding: ",";\n    font-size: ",";\n    cursor: pointer;\n  "])),Object(l.f)({theme:t}),t.dimensions.bigSpacing,t.fontSizes.content)});function w(e){const{name:t,count:n,modifier:c}=e,r=Object(g.b)(),o=Object(a.useCallback)(e=>{e.stopPropagation(),r(Object(h.A)({name:t,types:[],count:n,modifier:c}))},[n,r,c,t]);return Object(x.jsx)(k,{onClick:o,"data-name":"alias:".concat(t),children:Object(x.jsx)(y,{modifier:c,name:t,count:n})})}var C,S,E=n(62),R=n(40);const T=u.d.div(e=>{let{theme:t,parentRef:n}=e;if(n){const e=n.getBoundingClientRect();return Object(u.c)(C||(C=Object(i.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n\n      display: flex;\n      flex-direction: column;\n\n      border-bottom-left-radius: ",";\n      border-bottom-right-radius: ",";\n      border: "," solid ",";\n      border-top: none;\n\n      background: ",";\n      z-index: ",";\n      color: ",";\n\n      > :not(:last-child) {\n        border-bottom: "," solid lightgray;\n      }\n\n      max-height: 30vh;\n\n      ","\n    "])),n.offsetTop+e.height,n.offsetLeft,e.width,t.dimensions.borderRadius,t.dimensions.borderRadius,t.dimensions.borderWidth,t.colors.accentColor,t.colors.backgroundColor2,R.a.DROPDOWN,t.colors.backgroundColor,t.dimensions.borderWidth,E.a)}return Object(u.c)(S||(S=Object(i.a)(["\n      display: none;\n    "])))});function A(e){const{aliases:t,modifier:n,parentRef:c}=e;return Object(x.jsx)(T,{parentRef:c,className:"aliaslist",children:t.map(e=>{let{name:t,count:c}=e;return Object(x.jsx)(w,{name:t,count:c,modifier:n},"a_"+t)})})}var N,_,L,I,P,D=n(24);const F=u.d.div(e=>{return Object(u.c)(I||(I=Object(i.a)(["\n      cursor: pointer;\n      border: "," "," solid;\n      ","\n      ","\n      padding: 0 ",";\n      height: ",";\n      border-radius: ",";\n      font-size: ",";\n      user-select: none;\n\n      ","\n    "])),e.theme.colors.accentColor,e.theme.dimensions.borderWidth,Object(l.f)({theme:e.theme}),((e,t,n)=>{switch(e){case"direct":return Object(u.c)(N||(N=Object(i.a)(["\n        ","\n      "])),D.f);case"indirect":return Object(u.c)(_||(_=Object(i.a)(["\n        color: ",";\n        background-color: ","40;\n\n        :hover {\n          background-color: ","60;\n        }\n\n        :active {\n          background-color: ","50;\n        }\n\n        ","\n      "])),n.colors.accentColor,n.colors.accentColor,n.colors.accentColor,n.colors.accentColor,D.d);case"no":return Object(u.c)(L||(L=Object(i.a)(["\n        ","\n      "])),D.g)}})(e.active,e.collapsed,e.theme),e.theme.dimensions.bigSpacing,e.theme.dimensions.blockHeight,(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.collapsed?"":Object(u.c)(P||(P=Object(i.a)(["\n            border-bottom-color: ",";\n          "])),e.theme.colors.accentColor));var t,n});var B,M,U,z;const W=Object(u.d)(f.a)(e=>{let{$collapsed:t,theme:n}=e;return Object(u.c)(B||(B=Object(i.a)(["\n    transition: all "," ease-out;\n    height: 32px;\n    width: 32px !important;\n    padding: 8px;\n    margin: 0 -8px;\n    ","\n  "])),n.timings.transitionTime,t?Object(u.c)(M||(M=Object(i.a)([""]))):Object(u.c)(U||(U=Object(i.a)(["\n          transform: rotate(180deg);\n        "]))))}),H=u.d.div(e=>{let{theme:t}=e;return Object(u.c)(z||(z=Object(i.a)(["\n    .aliaslist {\n      border-color: ",";\n    }\n  "])),t.colors.backgroundColor2)});function G(e){const{name:t,count:n,modifier:c,type:r,isActive:o,detailed:i,onClick:u,onContextMenu:l,aliases:d}=e,[f,g]=Object(a.useState)(null),[h,O]=Object(b.a)(!0),p=Object(a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(e)},[u]),m=Object(a.useCallback)(e=>{e.stopPropagation(),O()},[O]),v=Object(a.useCallback)(e=>{"Enter"===e.key&&p(e)},[p]),k=s.a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),null===l||void 0===l||l(e)},[l]);return Object(x.jsxs)(H,{children:[Object(x.jsxs)(F,{active:o,collapsed:h,onClick:p,onKeyDown:v,onContextMenu:k,ref:g,tabIndex:0,role:"listitem",children:[i&&Object(x.jsx)(j.a,{type:r}),Object(x.jsx)(y,{modifier:c,name:t,count:n}),i&&d&&d.length>0&&Object(x.jsx)(W,{onClick:m,$collapsed:h,title:"Show aliases"})]}),i&&d&&d.length>0&&!h&&f&&Object(x.jsx)(A,{aliases:d,modifier:c,parentRef:f})]})}function V(e){const{tag:t,isActive:n,detailed:c,onClick:r}=e,{name:o,tags:i}=t,a=Object.keys(i).length;return Object(x.jsx)(G,{name:o,modifier:"+",type:"supertag",count:a,isActive:n,detailed:c,onClick:r})}var K,q=n(10);function Y(e){const{tag:t,detailed:n,onClick:c,isActive:r,onContextMenu:o}=e,{name:i,count:a,modifier:s,types:u}=t,l=Object(g.c)(q.d)[i];return Object(x.jsx)(G,{name:i,modifier:s,type:Object(d.b)(u),count:a,isActive:r,detailed:n,onClick:c,onContextMenu:o,aliases:l})}function J(e){const{tag:t,isActive:n,detailed:c,onClick:r,onContextMenu:o}=e,i=Object(d.e)(t)||Object(d.c)(t)?t:Object(d.a)(t,"+"),s=Object(a.useCallback)(e=>{null===e||void 0===e||e.stopPropagation(),r(i)},[r,i]),u=Object(a.useCallback)(e=>{o(i)},[i,o]);return Object(d.e)(i)?Object(x.jsx)(V,{tag:i,isActive:n,detailed:c,onClick:s}):Object(x.jsx)(Y,{tag:i,isActive:n,detailed:c,onClick:s,onContextMenu:u})}const Q=u.d.div(K||(K=Object(i.a)(["\n  ","\n"])),l.i);function X(e){const{tags:t,className:n,detailed:c,children:r=null,onTagClick:o,getIsActive:i,onTagMenu:a}=e;return Object(x.jsxs)(Q,{className:n,role:"list",children:[Object.entries(t).map(e=>{let[t,n]=e;return Object(x.jsx)(J,{detailed:c,tag:n,onClick:o,onContextMenu:a,isActive:(null===i||void 0===i?void 0:i(n))||"no"},t)}),r]})}},function(e,t,n){"use strict";t.a=n.p+"static/media/OutOfResults.9c71691c.png"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var c,r=n(5),o=(n(1),n(3)),i=n(4);const a=o.d.svg(c||(c=Object(r.a)(["\n  height: 32px;\n  padding: 8px;\n  color: white;\n"])));function s(){return Object(i.jsxs)(a,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve",children:[Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"6",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})}),Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"25",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})}),Object(i.jsx)("circle",{fill:"currentcolor",stroke:"none",cx:"44",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})})]})}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c,r,o=n(5),i=n(3);const a=i.d.div(e=>Object(i.c)(c||(c=Object(o.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight));i.d.div(e=>Object(i.c)(r||(r=Object(o.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),e.theme.colors.layerBgHighlight))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var c=n(1),r=n(11),o=n(10),i=n(6);const a=["+","-","~"];function s(){const e=Object(r.b)(),t=Object(r.c)(o.E),n=Object(c.useCallback)(()=>e(Object(i.S)(a[(a.indexOf(t)+1)%a.length])),[e,t]);return[t,n]}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var c=n(2),r=n(1),o=n.n(r),i=n(11),a=n(14),s=n(35),u=n(85),l=n(76),d=n(19),b=n(6),f=n(10),j=n(23),g=n(78),h=n(4);function O(e){const{onChange:t=s.b,offerSupertags:n=!1}=e,O=Object(i.b)(),p=Object(i.c)(f.b),m=Object(i.c)(f.o),v=Object(r.useCallback)(()=>O(Object(b.H)(s.a.CREATE_SUPERTAG)),[O]),x=Object(l.a)(),y=Object(u.a)(),k=o.a.useCallback(e=>{if(!Object(a.e)(e)){const t=["+","-","~"],n=t[(t.indexOf(e.modifier)+1)%3];O(Object(b.A)(Object(c.a)(Object(c.a)({},e),{},{modifier:n})))}},[O]);return Object(r.useEffect)(()=>t(),[t,p]),m>0?Object(h.jsx)(g.a,{tags:p,onTagClick:x,getIsActive:y,onTagMenu:k,detailed:!0,children:n&&Object.keys(p).length>1&&Object(h.jsx)(j.f,{onClick:v,title:"Create a supertag",children:Object(h.jsx)(d.A,{})})}):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n(1),r=n(11),o=n(10);const i=()=>{const e=Object(r.c)(o.b),t=Object(r.c)(o.a);return Object(c.useCallback)(n=>n.name in e?"direct":n.name in t?"indirect":"no",[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n(1),r=n(11),o=n(6);const i=()=>{const e=Object(r.b)();return Object(c.useCallback)(t=>{e(Object(o.A)(t))},[e])}},,function(e,t,n){"use strict";n.d(t,"a",function(){return K});var c,r,o,i,a=n(5),s=n(1),u=n.n(s),l=n(11),d=n(3),b=n(101),f=n.n(b),j=n(14),g=n(83),h=n(19),O=n(6),p=n(10),m=n(23),v=n(61),x=n(51),y=n(4);const k=d.d.div(e=>{let{theme:t}=e;return Object(d.c)(c||(c=Object(a.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    background: ",";\n    padding: "," 0;\n    align-items: center;\n    cursor: pointer;\n  "])),t.colors.backgroundColor2,t.dimensions.bigSpacing)}),w=d.d.span(r||(r=Object(a.a)(["\n  grid-column: 2/3;\n"]))),C=d.d.span(e=>{let{theme:t}=e;return Object(d.c)(o||(o=Object(a.a)(["\n    grid-column: 3/4;\n    padding-right: ",";\n  "])),t.dimensions.bigSpacing)}),S=d.d.div(i||(i=Object(a.a)(["\n  grid-column: 1/2;\n  text-align: center;\n"])));function E(e){const{name:t,count:n,type:c,onClick:r}=e,o="supertag"===c?"tags":"posts";return Object(y.jsxs)(k,{onClick:r,role:"listitem",children:[Object(y.jsx)(S,{children:Object(y.jsx)(v.a,{type:c})}),Object(y.jsx)(w,{children:Object(x.e)(t)}),Object(y.jsxs)(C,{title:"".concat(n," ").concat(o),children:[n&&Object(x.a)(n)," ",o]})]})}var R,T=n(15);const A=d.d.div(e=>{let{theme:t}=e;return Object(d.c)(R||(R=Object(a.a)(["\n    ","\n    flex-wrap: wrap;\n    min-height: ","; // COMPAT: Kiwi Browser\n    background: ",";\n    padding: 6px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  "])),T.f,t.dimensions.blockHeight,t.colors.backgroundColor2)});var N,_,L,I=n(37),P=n(62),D=n(40);const F=d.d.div(e=>{let{theme:t,tagSelectorRef:n}=e;return Object(d.c)(L||(L=Object(a.a)(["\n    ","\n    ","\n    ",";\n    background: lightgrey;\n    box-sizing: border-box;\n    border: "," "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: ",";\n\n    ","\n  "])),Object(T.d)(),Object(I.c)("1px"),function(e){if(e){const{offsetTop:t,clientHeight:n,offsetLeft:c,clientWidth:r}=e;return Object(d.c)(N||(N=Object(a.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n    "])),t+n,c,r)}return Object(d.c)(_||(_=Object(a.a)(["\n      display: none;\n    "])))}(n),t.dimensions.borderWidth,t.colors.accentColor,D.a.DROPDOWN,P.a)});function B(e){const{tagSelectorRef:t,entries:n,onClick:c,error:r}=e;return Object(y.jsx)(F,{tagSelectorRef:t,role:"list",children:r?Object(y.jsxs)(A,{role:"listitem",children:[Object(y.jsxs)("span",{children:[r.message,"."]}),Object(y.jsxs)("span",{children:[r.results," tags found"]})]}):n.map(e=>{const t=Object(j.e)(e)?"supertag":Object(j.b)(e.types),n=Object(j.e)(e)?Object.keys(e.tags).length:e.count;return Object(y.jsx)(E,{onClick:()=>c(e),name:e.name,type:t,count:n},e.name)})})}var M;const U=d.d.input(e=>Object(d.c)(M||(M=Object(a.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: "," "," solid;\n    border-bottom: "," "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth));function z(e){const{value:t,setValue:n,onSubmit:c}=e,r=Object(s.useCallback)(e=>{n(e.target.value)},[n]),o=Object(s.useCallback)(e=>{"Enter"===e.key&&c()},[c]);return Object(y.jsx)(U,{id:"tag-input",value:t,onChange:r,onKeyDown:o,placeholder:"Search for tags","aria-label":"Search"})}var W,H,G;const V=d.d.form(e=>Object(d.c)(W||(W=Object(a.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?Object(d.c)(H||(H=Object(a.a)(["\n          border-radius: ",";\n        "])),e.theme.dimensions.borderRadius):Object(d.c)(G||(G=Object(a.a)(["\n          border-radius: "," "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius,m.a,e.theme.dimensions.borderRadius,m.e,e.theme.dimensions.borderRadius)));function K(e){const{onSubmit:t,showSupertags:n}=e,c=Object(l.b)(),[r,o]=u.a.useState(""),[i,a]=u.a.useState(null),[s,d]=Object(g.a)(),b=Object(l.c)(p.C),v=Object(l.c)(p.D),x=u.a.useCallback(e=>{const n=Object(j.e)(e)?e:Object(j.a)(e,s);t(n),o("")},[s,t]);f()(()=>{""===r?b.length>0&&c(Object(O.Q)([])):c(Object(O.D)(r,n))},300,[r]);const k=u.a.useCallback(()=>{if(r.trim()){const e=Object(j.f)(r),t=b.find(t=>t.name===e);x(t||{name:e,types:[]})}},[r,x,b]),w=b.length>0||null!==v,C=u.a.useCallback(e=>e.preventDefault(),[]);return Object(y.jsxs)(V,{ref:a,closed:!w,onSubmit:C,children:[Object(y.jsx)(m.e,{onClick:d,"aria-label":"Tag Modifier",title:"Cycle tag modifier",children:s}),Object(y.jsx)(z,{value:r,setValue:o,onSubmit:k}),Object(y.jsx)(m.a,{onClick:k,"aria-label":"Add Tag",children:Object(y.jsx)(h.y,{title:"Add tag"})}),w&&r.length>0&&Object(y.jsx)(B,{tagSelectorRef:i,entries:b,error:v,onClick:x})]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(110);var c=n(155),r=n(154),o=n(56),i=n.n(o),a=n(1),s=n.n(a),u=n(91),l=n(11),d=n(74),b=n(20),f=n(95),j=n(3);class g extends s.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}}var h=n(35);const O={"/":()=>{var e;return null===(e=document.getElementById("tag-input"))||void 0===e?void 0:e.focus()},"ctrl+1":()=>window.location.hash="#".concat(h.c.SEARCH),"ctrl+2":()=>window.location.hash="#".concat(h.c.PREFERENCES),"ctrl+3":()=>window.location.hash="#".concat(h.c.ABOUT)};function p(){return s.a.useEffect(()=>{const e=e=>{const t="".concat(e.ctrlKey?"ctrl+":"").concat(e.key);t in O&&(e.preventDefault(),e.stopPropagation(),O[t]())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),null}var m=n(5),v=n(2),x=n(31);n(89),n(66),n(90);let y,k=!1;class w{toFirestore(e){return e}fromFirestore(e,t){return e.data(t)}}let C,S=!1;async function E(){if(console.log("[firestore] getting user document"),S)try{const{currentUser:e}=x.a.auth(),t=null===e||void 0===e?void 0:e.email;if(t){const e=await(async e=>{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})(t);return x.a.firestore().collection("users").doc(e)}return}catch(e){return void console.warn("Failed to get user document:",e)}else console.warn("Cannot get userDoc. Not initialized yet")}async function R(){const e=await async function(){const e=await E();if(e)return(await e.withConverter(C).get()).data()}();if(e)return e.preferences}let T=!1;let A=!1;const N={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};function _(){A||(x.a.initializeApp(N),A=!0,y=new x.a.auth.GoogleAuthProvider,k=!0,C=new w,S=!0,T=!0)}var L=n(19),I=n(23),P=n(4);function D(e){const t=Object(a.useCallback)(async()=>{var e;null===(e=localStorage)||void 0===e||e.clear(),await async function(){if(k)return await x.a.auth().signOut().catch(e=>{console.error("Sign out failed:",e.code,e.message)});console.warn("Cannot sign out before initialization")}(),window.location.hash="",window.location.reload()},[]);return Object(P.jsxs)(I.b,Object(v.a)(Object(v.a)({onClick:t},e),{},{children:[Object(P.jsx)(L.D,{})," Reset Application"]}))}var F,B,M=n(79),U=n(58),z=n(49),W=Object(j.b)(e=>{let{theme:t}=e;return Object(j.c)(F||(F=Object(m.a)(["\n    p,\n    a,\n    button,\n    span,\n    div,\n    select,\n    input {\n      font-family: 'Raleway', sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      font-size: ",";\n    }\n\n    html {\n      background-color: ",";\n    }\n\n    body {\n      font-size: ",";\n      color: ",";\n      background-color: ",";\n      transition: color 0.4s, background-color 0.4s;\n\n      // always show scrollbar to prevent layout shifts when changing pages\n      overflow-y: scroll;\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n\n    // Not a touch device\n    // Touch devices have nice scrollbars by default\n    @media (pointer: fine) {\n      // Underline stuff that is focused on non-touch devices\n      // makes keyboard navigation clearer\n      button,\n      input,\n      select {\n        &:focus {\n          text-decoration: underline;\n        }\n      }\n\n      ::-webkit-scrollbar {\n        height: 8px;\n        transition: all "," ease-in-out;\n\n        :hover {\n          background: ",";\n        }\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: transparent;\n      }\n\n      /* Handle */\n      :hover {\n        ::-webkit-scrollbar {\n          background: ",";\n        }\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 1000px;\n\n        :hover {\n          background: ",";\n        }\n      }\n    }\n  "])),t.fontSizes.content,t.colors.backgroundColor,t.fontSizes.content,t.colors.text,t.colors.backgroundColor,t.colors.accentColor,t.timings.transitionTime,t.colors.layerBg,t.colors.layerBg,t.colors.layerBg,t.colors.layerBgHighlight)});const H=j.d.div(B||(B=Object(m.a)(["\n  height: 100vh;\n  width: 100%;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  padding: 30px;\n  background: ",";\n\n  > * {\n    margin-bottom: 10px;\n  }\n"])),e=>{let{theme:t}=e;return t.colors.backgroundColor});function G(){const e=z.themes[z.defaultThemeId];return Object(P.jsxs)(H,{theme:e,children:[Object(P.jsx)(W,{theme:e}),Object(P.jsx)(U.a,{src:M.a,alt:"Cute image to make unexpected crash more bearable"}),Object(P.jsx)("h1",{children:"Sorry about that..."}),Object(P.jsx)("p",{children:"A page reload might help:"}),Object(P.jsxs)(I.b,{onClick:()=>window.location.reload(),children:[Object(P.jsx)(L.D,{})," Reload"]}),Object(P.jsx)("p",{children:"If the issue persists try resetting the app"}),Object(P.jsx)(D,{theme:e})]})}var V,K=n(80);const q=j.d.div(V||(V=Object(m.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  place-items: center;\n  background: black;\n"])));function Y(){return Object(P.jsx)(q,{children:Object(P.jsx)(K.a,{})})}var J,Q,X=n(46),$=n(6),Z=n(15),ee=n(40),te=n(57);const ne=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(J||(J=Object(m.a)(["\n    display: grid;\n    place-items: center;\n    ","\n    z-index: ",";\n    padding: ",";\n    background: ",";\n  "])),Z.g,ee.a.MODAL,t.dimensions.hugeSpacing,t.colors.backdrop)}),ce=Object(j.d)(te.a)(e=>{let{theme:t}=e;return Object(j.c)(Q||(Q=Object(m.a)(["\n    ","\n    max-width: ",";\n    max-height: 100vh;\n    overflow-y: auto;\n    overscroll-behavior: none;\n  "])),Z.e,t.dimensions.modalWidth)});function re(e){const{children:t}=e,n=Object(X.a)($.B),c=Object(a.useCallback)(e=>e.stopPropagation(),[]);return Object(P.jsx)(ne,{onClick:n,title:"Close modal",children:Object(P.jsx)(ce,{onClick:c,title:"",children:t})})}var oe,ie=n.p+"static/media/eeek.ff41d889.png",ae=n(50),se=n(63),ue=n(48);const le=j.d.div(oe||(oe=Object(m.a)(["\n  ","\n\n  > "," {\n    flex-grow: 1;\n  }\n"])),Z.f,I.f);function de(){const e=Object(X.a)($.B),t=Object(X.a)($.F),n=Object(a.useCallback)(()=>{t(),e()},[e,t]),c=Object(a.useCallback)(()=>{e()},[e]),[r,o]=Object(ue.a)("autoPlay"),i=Object(a.useCallback)(()=>o(!r),[r,o]),[s,u]=Object(ue.a)("preloadVideos"),l=Object(a.useCallback)(()=>u(!s),[s,u]),[d,b]=Object(ue.a)("originals"),f=Object(a.useCallback)(()=>b(!d),[d,b]);return Object(P.jsxs)(re,{children:[Object(P.jsx)(U.a,{src:ie}),Object(P.jsx)(ae.d,{children:"Wait!"}),Object(P.jsx)(ae.b,{children:"You are on cellular and have some features enabled that will consume a lot of data. Are you sure this is intended?"}),Object(P.jsx)(se.a,{value:r,onToggle:i,children:"Auto-play Animations"}),Object(P.jsx)(se.a,{value:s,onToggle:l,children:"Preload Animations"}),Object(P.jsx)(se.a,{value:d,onToggle:f,children:"Load original sizes"}),Object(P.jsxs)(le,{children:[Object(P.jsxs)(I.f,{onClick:n,children:[Object(P.jsx)(L.z,{})," Yes"]}),Object(P.jsxs)(I.f,{onClick:c,children:[Object(P.jsx)(L.o,{})," No"]})]})]})}var be,fe;const je=Object(j.d)(te.a)(e=>{let{theme:t}=e;return Object(j.c)(be||(be=Object(m.a)(["\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: ",";\n    background: ",";\n    z-index: ",";\n  "])),t.colors.text,t.colors.layerBgSolid,ee.a.COOKIEBAR)}),ge=j.d.span(fe||(fe=Object(m.a)(["\n  height: min-content;\n"])));function he(){const[,e]=Object(ue.a)("cookies"),t=Object(a.useCallback)(()=>e(!0),[e]);return Object(P.jsxs)(je,{children:[Object(P.jsx)(ge,{children:"This website uses cookies."}),Object(P.jsx)(I.f,{onClick:t,"aria-label":"Allow Cookies",title:"Accept Cookie usage",children:"Okay"})]})}var Oe,pe=n(10),me=n(24),ve=n(82),xe=n(88),ye=n(84),ke=n(14),we=n(86);const Ce=j.d.input(e=>{let{theme:t}=e;return Object(j.c)(Oe||(Oe=Object(m.a)(["\n    ","\n    background-color: ",";\n    ","\n    text-align: left;\n  "])),me.b,t.colors.backgroundColor2,Z.c)});function Se(){const[e,t]=Object(a.useState)(""),[n,c]=Object(a.useState)(""),r=Object(l.c)(pe.b),o=Object(l.b)(),i=Object(we.a)(),s=Object(X.a)($.B),u=Object.values(r).filter(e=>!Object(ke.e)(e)).reduce((e,t)=>Object(v.a)(Object(v.a)({},e),{},{[t.name]:t.modifier}),{}),d=Object(a.useCallback)(()=>{(async function(e,t,n){const c=await E();null===c||void 0===c||c.collection("supertags").doc(e).set({description:t,tags:n})})(e,n,u).then(()=>{Object.keys(u).forEach(e=>o(Object($.I)(e))),i({name:e,description:n,tags:u}),s()}).catch(e=>console.error("Failed to create supertag",e))},[i,s,n,o,e,u]);return Object(P.jsxs)(re,{children:[Object(P.jsx)(ae.d,{children:"Create Supertag"}),Object(P.jsx)(ve.a,{}),Object(P.jsx)(Ce,{type:"text",placeholder:"Name",value:e,onChange:e=>t(e.target.value)}),Object(P.jsx)(Ce,{type:"text",placeholder:"Description",value:n,onChange:e=>c(e.target.value)}),Object(P.jsx)(xe.a,{showSupertags:!1,onSubmit:i}),Object(P.jsx)(ye.a,{}),Object(P.jsx)(I.b,{onClick:d,children:"Create"})]})}var Ee=n(39),Re=n(65),Te=n(102),Ae=n.n(Te),Ne=n(45),_e=function(e){return e.SEARCH="r34_search",e}(_e||{});var Le=e=>t=>n=>{const c=e.getState();if(Object(pe.i)(c)&&(n.type===$.b||n.type===$.s)){const e=Object(pe.q)(c);!async function(e){T&&x.a.analytics().logEvent(e.id,e.payload)}((r=e,{id:_e.SEARCH,payload:{page_number:r}}))}var r;t(n)},Ie=n(17);const Pe={rated:!1,ratedThreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20,resultsLayout:"infinite_column",pageSize:20,showMetadata:!1,showComments:!1,sort:"date:desc",themeId:"dark",autoPlay:!1,hideSeen:!1,autoscrollDelay:10,showPostDetails:!0,backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]};var De=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.t:return function(e,t,n){return Object(Ie.a)(e,e=>{e[t]=n})}(e,t.key,t.value);case $.u:return function(e,t){return Object(Ie.a)(e,e=>{Object.assign(e,t)})}(e,t.preferences);default:return e}};let Fe=null;var Be=e=>t=>async n=>{if(n.type===$.t&&(Fe?(clearTimeout(Fe),Fe=null):Fe=setTimeout(()=>{e.dispatch(Object($.J)()),Fe=null},1e4)),n.type===$.h){const t=await R();if(t){const n=Object(v.a)(Object(v.a)({},Pe),t);e.dispatch(Object($.P)(n))}}if(n.type===$.o){const{preferences:t}=e.getState();!async function(e){const t=await E();await(null===t||void 0===t?void 0:t.set({preferences:e}))}(t)}t(n)},Me=n(70);const Ue=new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.currentBackend=void 0,this.backends=void 0,this.useFirebase=void 0,this.postLimit=void 0,this.tagLimit=void 0,this.version=void 0,this.requestRetries=void 0,this.verbose=void 0,this.parseComment=e=>{let t={};for(const n of e)t[n.name]=n.value;return t},this.backends="string"===typeof e?[e]:[...e],this.version=t.version||"v2",this.useFirebase=t.useFirebase||!1,this.postLimit=t.postLimit||20,this.tagLimit=t.tagLimit||20,this.requestRetries=t.requestRetries||1,this.verbose=t.verbose||!1,this.currentBackend=0,this.useFirebase&&_()}useNextBackend(){this.currentBackend=(this.currentBackend+1)%this.backends.length}getFullUrl(e,t){const n=this.backends[this.currentBackend],c=this.version,r=(e=>Object.entries(e).reduce((e,t)=>{let[n,c]=t;return e.append(n,(e=>"string"===typeof e?e:e.toString())(c)),e},new URLSearchParams))(t).toString();return new URL("".concat(n,"/").concat(c,"/").concat(e,"?").concat(r))}async fetchWithFailover(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=this.getFullUrl(e,Object(v.a)({},t));return fetch(r.toString(),n).then(o=>!o.ok&&this.backends.length>1&&c<this.requestRetries?(this.verbose&&console.warn("Fetch failed against ".concat(r,". Status: ").concat(o.status,". Retrying against next backend.\nDetails:"),o),this.useNextBackend(),this.fetchWithFailover(e,t,n,c+1)):o)}async fetchTags(e){var t;console.log(e);const n=null===(t=e.name)||void 0===t?void 0:t.replaceAll(" ","_"),c=await fetch("".concat("https://api.rule34.xxx/autocomplete.php?q=").concat(n));if(c.ok){const e=await c.json();if(Array.isArray(e)){if(0===e.length)throw new Error("No tags found");return e.map(e=>({name:e.value,count:Number(e.label.substring(e.label.lastIndexOf("(")+1,e.label.length-1)),types:["ambiguous"]}))}return e.message?e:{message:"Invalid tag suggestions received",results:0}}return{message:"Failed to load suggestions",results:0}}async getTags(e){try{const n=await this.fetchTags(e);if(Object(Me.a)(n))return n;let c=n;const r=e.name;if(e.supertags&&r)try{const e=r.replaceAll("*","").toLowerCase(),t=await async function(){const e=await E();if(e){console.log("[firestore] getting user supertags");const t=await e.collection("supertags").get(),n={};return t.forEach(e=>{n[e.id]=e.data()}),n}}();if(t){const n=Object.entries(t).filter(t=>{let[n,c]=t;return n.toLowerCase().includes(e)}).map(e=>{let[t,n]=e;return Object(v.a)({name:t},n)});c=[...n,...c]}}catch(t){}return c}catch(n){return console.warn("Failed to get tags:",n),[]}}getPostsUrl(e,t,n){const c="https://rule34-api.netlify.app/posts?limit=".concat(t.toString(),"&pid=").concat(e);return""===n?c:"".concat(c,"&tags=").concat(n)}getCountUrl(e){const t="https://rule34-api.netlify.app/count";return""===e?t:"".concat(t,"?tags=").concat(e)}async getPosts(e){try{var t,n;let r={limit:null!==(t=e.limit)&&void 0!==t?t:this.postLimit,pid:null!==(n=e.page)&&void 0!==n?n:0,tags:""};e.tags&&(r.tags+=Object(Me.b)(e.tags)),e.score&&(r.tags+="+score:".concat(e.score)),e.sort&&"date:desc"!==e.sort&&(r.tags+="+sort:".concat(e.sort));const o=await fetch(this.getPostsUrl(r.pid,r.limit,r.tags)),i=await fetch(this.getCountUrl(r.tags)),a=await i.text(),s=(new DOMParser).parseFromString(a,"text/xml"),u=Number(s.getElementsByTagName("posts")[0].getAttribute("count"));let l=[];try{let e=await o.json();e=e.filter(e=>e.change),l=e.map(this.parsePost)}catch(c){console.warn("Failed to get posts",c),l=[]}return{count:u,posts:l}}catch(r){return console.warn("Failed to get posts:",r),{count:0,posts:[]}}}parsePost(e){const t=e.height,n=e.score,c=e.file_url,r=e.parent_id,o=e.sample_url,i=e.sample_width,a=e.sample_height,s=e.preview_url,u=e.rating,l=e.tags,d=e.id,b=e.width,f=e.change,j=e.comment_count,g=e.status,h=e.source;return{preview_url:s,sample_url:o,file_url:c,height:Number(t),id:Number(d),change:Number(f),has_comments:Boolean(Number(j)>0),parent_id:r?Number(r):null,rating:u,sample_height:Number(a),sample_width:Number(i),score:Number(n),source:h,status:g,tags:l.split(" ").filter((e,t,n)=>""!==e&&n.indexOf(e)===t),width:Number(b),comments_url:"",creator_url:"",type:c.endsWith(".webm")||c.endsWith(".mp4")?"video":c.includes(".gif")?"gif":"image"}}async getAliases(e){try{return await(await this.fetchWithFailover("alias/"+e.name)).json()}catch(t){return console.warn("Failed to get aliases:",t),[]}}async getComments(e){try{const t=await fetch(e.commentsUrl),n=await t.text(),c=(new DOMParser).parseFromString(n,"text/xml"),r=[];for(const e of c.getElementsByTagName("comment")){const t=this.parseComment(e.attributes);r.push(t)}return r}catch(t){return console.warn("Failed to get comments:",t),[]}}async getArtist(e){try{return await(await this.fetchWithFailover("artist",e)).json()}catch(t){return void console.warn("Failed to get aliases:",t)}}}(["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"],{version:"v2",useFirebase:!0,requestRetries:1,verbose:!0});var ze=e=>t=>async n=>{const c=e.getState(),r=Object(pe.k)(c);var o,i;(n.type===$.t&&"backends"===n.key&&(Ue.backends=n.value),"persist/REHYDRATE"===n.type)&&(null!==n&&void 0!==n&&null!==(o=n.payload)&&void 0!==o&&null!==(i=o.preferences)&&void 0!==i&&i.backends&&(Ue.backends=n.payload.preferences.backends));if(n.type===$.k){const t=Object(pe.b)(c),r=Object(pe.r)(c),o=Object(pe.n)(c),i=Object(pe.B)(c),a=await Ue.getPosts({tags:t,limit:r,page:n.pageNumber,score:">=".concat(o),sort:i});e.dispatch(Object($.N)(a.posts,a.count,n.pageNumber))}if(n.type===$.j&&r){const t=Object(pe.b)(c),n=Object(pe.q)(c),r=Object(pe.r)(c),o=Object(pe.n)(c),i=Object(pe.B)(c),a=await Ue.getPosts({tags:t,limit:r,page:n+1,score:">=".concat(o),sort:i});e.dispatch(Object($.z)(a.posts))}if(n.type===$.c){const t=Object(pe.b)(c);let r=[];try{r=await Ue.getAliases({name:n.tag.name})}catch(a){console.warn("Failed toget aliases for tag:",n.tag)}const o=r.sort((e,t)=>t.count-e.count).filter(e=>!(e.name in t)).map(e=>{let{name:t,count:n}=e;return{name:t,count:n,types:[]}});if(e.dispatch(Object($.y)(o,n.tag.name)),!Object(ke.e)(n.tag)&&0===n.tag.types.length)try{const e=await Ue.getTags({name:n.tag.name,limit:1});if(!Object(ke.d)(e)){const t=e.find(e=>e.name===n.tag.name);t&&!Object(ke.e)(t)&&(n.tag.types=t.types,n.tag.count=t.count)}}catch(a){console.warn("Failed to get types for tag:",n.tag)}}if(n.type===$.l&&fetch("https://rule34.xxx/index.php?page=post&s=vote&id=".concat(n.postId,"&type=up"),{mode:"no-cors"}).then(()=>{}).catch(e=>{console.warn("Upvote rejected",e)}),n.type===$.i){const t=Object(pe.G)(c),r=await Ue.getTags({name:Object(ke.f)(n.value),limit:t,supertags:n.includeSupertags,sort:"count"});Object(ke.d)(r)?e.dispatch(Object($.R)(r)):e.dispatch(Object($.Q)(r))}if(n.type===$.g){const t=Object(pe.s)(n.postId)(c);if(t){const c="https://rule34-api.netlify.app/comments?post_id=".concat(t.id),r=await Ue.getComments({commentsUrl:c});e.dispatch(Object($.L)(n.postId,r))}}t(n)},We=n(103);var He=Object(We.composeWithDevTools)(Object(Ee.applyMiddleware)(Le,ze,Be));const Ge={278:e=>Object(v.a)(Object(v.a)({},e),{},{reader:void 0}),279:e=>Object(v.a)(Object(v.a)({},e),{},{preferences:Object(v.a)(Object(v.a)({},e.preferences),{},{autoscrollDelay:10})}),285:e=>"electric"===e.preferences.themeId?Object(v.a)(Object(v.a)({},e),{},{preferences:Object(v.a)(Object(v.a)({},e.preferences),{},{themeId:"deepsea"})}):e,288:e=>Object(v.a)(Object(v.a)({},e),{},{preferences:Object(v.a)(Object(v.a)({},e.preferences),{},{showPostDetails:!0})}),289:e=>Object(v.a)(Object(v.a)({},e),{},{preferences:Object(v.a)(Object(v.a)({},e.preferences),{},{backends:["https://r34-json.herokuapp.com","https://r34-api-clone.herokuapp.com"]})}),301:e=>Object(v.a)(Object(v.a)({},e),{},{preferences:Object(v.a)(Object(v.a)({},e.preferences),{},{backends:["https://json-api.onrender.com"]})})},Ve={posts:[],pageNumber:0,count:0,updated:0};var Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.b:return((e,t)=>Object(Ie.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,n.updated=(new Date).getTime()}))(e,t.posts);case $.s:return function(e,t,n){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(Ie.a)(e,e=>{e.posts=t,e.count=n,e.pageNumber=c,e.updated=(new Date).getTime()})}(e,t.posts,t.count,t.pageNumber);case $.q:return((e,t,n)=>Object(Ie.a)(e,c=>{const r=e.posts.findIndex(e=>e.id===t);r>=0&&(c.posts[r].comments=n)}))(e,t.postId,t.comments);default:return e}};const qe={active:{},aliases:{}};var Ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.c:return((e,t)=>Object(Ie.a)(e,n=>{n.active[t.name]=Object(v.a)(Object(v.a)({},e.active[t.name]),t)}))(e,t.tag);case $.n:return((e,t)=>Object(Ie.a)(e,e=>{delete e.active[t],delete e.aliases[t]}))(e,t.tagName);case $.a:return((e,t,n)=>Object(Ie.a)(e,e=>{e.aliases[n]=t}))(e,t.aliases,t.forTag);default:return e}};const Je={isEnabled:!1,currentIndex:0,scrollIndex:null},Qe={};var Xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;return t.type===$.l?((e,t)=>Object(Ie.a)(e,n=>{t in e||(n[t]=Date.now())}))(e,t.postId):e};const $e={openModal:null},Ze=(e,t)=>Object(Ie.a)(e,e=>{e.openModal=t});var et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.m:return Ze(e,t.modalId);case $.d:return Ze(e,null);default:return e}};const tt={entries:[],error:null,modifier:"+"};var nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.v:return((e,t)=>Object(Ie.a)(e,e=>{e.entries=t,e.error=null}))(e,t.suggestions);case $.w:return((e,t)=>Object(Ie.a)(e,e=>{e.entries=[],e.error=t}))(e,t.error);case $.x:return((e,t)=>Object(Ie.a)(e,e=>{e.modifier=t}))(e,t.modifier);default:return e}},ct=Object(Ee.combineReducers)({tags:Ye,results:Ke,preferences:De,fullscreen:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.e:return((e,t)=>Object(Ie.a)(e,e=>{e.isEnabled=!0,e.currentIndex=t}))(e,t.postId);case $.r:return((e,t)=>Object(Ie.a)(e,e=>{e.currentIndex=t}))(e,t.index);case $.f:return(e=>Object(Ie.a)(e,e=>{e.isEnabled=!1}))(e);case $.p:return((e,t)=>Object(Ie.a)(e,e=>{e.scrollIndex=t}))(e,t.index);default:return e}},likes:Xe,suggestions:nt,modals:et});const rt=Object(Ne.c)(),ot={key:"appstate",version:Object(Ne.h)(rt),storage:Ae.a,migrate:Object(Re.a)(Ge)},it=Object(Re.b)(ot,ct),at=Object(Ee.createStore)(it,He),st=Object(Re.c)(at),ut=s.a.lazy(()=>Promise.all([n.e(3),n.e(4)]).then(n.bind(null,182))),lt=Object(P.jsx)(Y,{});function dt(){return Object(P.jsx)(g,{fallback:Object(P.jsx)(G,{}),children:Object(P.jsx)(l.a,{store:at,children:Object(P.jsx)(f.a,{loading:lt,persistor:st,children:Object(P.jsx)(bt,{})})})})}function bt(){const e=Object(l.c)(pe.i),t=Object(l.c)(pe.h),n=Object(l.c)(pe.F),c=Object(l.c)(pe.c),r=z.themes[c||z.defaultThemeId];return Object(P.jsxs)(j.a,{theme:r,children:[Object(P.jsx)(W,{}),Object(P.jsx)(p,{}),Object(P.jsx)(u.a,{children:Object(P.jsx)("meta",{name:"theme-color",content:r.colors.layerBgSolid})}),Object(P.jsxs)(d.a,{children:[Object(P.jsx)(a.Suspense,{fallback:lt,children:Object(P.jsx)(b.c,{children:Object(P.jsx)(b.a,{path:h.c.SEARCH,component:ut})})}),n&&Object(P.jsx)(Se,{}),t&&Object(P.jsx)(de,{}),!e&&Object(P.jsx)(he,{})]})]})}const ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jt(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a({dsn:"https://1a2933d829da41fe84d4dab5fcc520ae@o955708.ingest.sentry.io/5905045",integrations:[new r.a],tracesSampleRate:.1,release:Object(Ne.d)(),allowUrls:[/https:\/\/kurozenzen\.github\.io(.*)/,/https:\/\/r34-json\.herokuapp\.com(.*)/],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose"],denyUrls:[/extensions\//i,/^chrome:\/\//i],beforeBreadcrumb(e,t){try{var n;if(null!==e&&void 0!==e&&null!==(n=e.category)&&void 0!==n&&n.startsWith("ui")){const n=null===t||void 0===t?void 0:t.event.target,c=n.tagName.toLowerCase();n.innerText?e.message="".concat(c,": ").concat(n.innerText):n.id?e.message="".concat(c,": ").concat(n.id):n.getAttribute("name")?e.message="".concat(c,": ").concat(n.getAttribute("name")):n.title?e.message="".concat(c,": ").concat(n.title):n.getAttribute("aria-label")?e.message="".concat(c,": ").concat(n.getAttribute("aria-label")):n.getAttribute("data-name")&&(e.message="".concat(c,": ").concat(n.getAttribute("data-name")))}}catch(c){}return e}}),i.a.render(Object(P.jsx)(dt,{}),document.getElementById("app-root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("","/service-worker.js");ft?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):jt(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):jt(t,e)})}}()}],[[145,1,2]]]);
//# sourceMappingURL=main.76e8d464.chunk.js.map