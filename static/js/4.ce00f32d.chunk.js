(this["webpackJsonpr34-react"]=this["webpackJsonpr34-react"]||[]).push([[4],{182:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return Dc});var c=n(1),a=n.n(c),o=n(11),r=n(2),i=n(181),s=n(4);const l=new i.c({fixedWidth:!0});function d(e){const{Header:t,items:n=[],LoadingItem:a,hasMoreRows:o,ItemComponent:d,loadMore:u,OutOfItems:b,isLoading:j}=e,h=t?1:0,m=n.length+h+1,O=Object(c.useCallback)(e=>{let{index:t}=e;return t<h+n.length+(o?0:1)},[o,n.length,h]),g=Object(c.useCallback)(e=>{let{index:c,key:u,parent:m,style:O}=e;return Object(s.jsx)(i.b,{cache:l,columnIndex:0,rowIndex:c,parent:m,children:e=>{let{measure:i,registerChild:l}=e;return t&&c<h?Object(s.jsx)(t,{style:O,virtualRef:l,onLoad:i}):c<h+n.length?Object(s.jsx)(d,Object(r.a)({style:O,virtualRef:l,onLoad:i,index:c-h},n[c-h])):c<h+n.length+1?o||j?Object(s.jsx)(a,{style:O,virtualRef:l,onLoad:i}):b&&n.length>0?Object(s.jsx)(b,{style:O,virtualRef:l,onLoad:i}):Object(s.jsx)("div",{}):(console.warn("index not found / out of bounds. INDEX:",c),null)}},u)},[t,h,n,d,o,j,a,b]),p=Object(c.useCallback)(e=>(!j&&o&&u(),Promise.resolve()),[o,j,u]),f=Object(c.useCallback)(e=>{l.clearAll()},[]);return Object(s.jsx)(i.d,{isRowLoaded:O,loadMoreRows:p,rowCount:m,children:e=>{let{onRowsRendered:t,registerChild:c}=e;return Object(s.jsx)(i.a,{onResize:f,disableHeight:!0,children:e=>{let{width:a}=e;return Object(s.jsx)(i.f,{children:e=>{let{height:o,isScrolling:r,onChildScroll:d,scrollTop:u}=e;return Object(s.jsx)(i.e,{autoHeight:!0,height:o,isScrolling:r,onScroll:d,scrollTop:u,ref:c,onRowsRendered:t,rowRenderer:g,deferredMeasurementCache:l,overscanRowCount:10,rowCount:n.length+h+1,rowHeight:l.rowHeight,width:a})}})}})}})}var u,b=n(5),j=n(3),h=n(35),m=n(77),O=n(6),g=n(10),p=n(23),f=n(47);const x=Object(j.e)(u||(u=Object(b.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"])));var v,w,y,k,C=n(50);const S=j.d.input(e=>{let{$controls:t,$accent:n,theme:c}=e;return Object(j.c)(k||(k=Object(b.a)(["\n    ","\n    ","\n  "])),function(e){let{$accent:t,theme:n}=e;return Object(j.c)(y||(y=Object(b.a)(["\n    -webkit-appearance: none;\n    flex-grow: 1;\n    background: ",";\n    border-radius: 100px;\n    height: 6px;\n\n    &::-moz-range-progress {\n      background-color: ",";\n    }\n\n    &::-ms-fill-lower {\n      background-color: ",";\n    }\n  "])),e=>e.theme.colors.layerBg,t?n.colors.accentColor:n.colors.backgroundColor2,t?n.colors.accentColor:n.colors.backgroundColor2)}({$accent:n,theme:c}),function(e){let{$controls:t,theme:n}=e;const c=Object(j.c)(v||(v=Object(b.a)(["\n    height: 16px;\n    width: 16px;\n    border-radius: 100px;\n    background: ",";\n    cursor: pointer;\n  "])),t?n.colors.backgroundColor2:"transparent");return Object(j.c)(w||(w=Object(b.a)(["\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      ","\n    }\n\n    &::-moz-range-thumb {\n      ","\n    }\n\n    &::-ms-thumb {\n      ","\n    }\n  "])),c,c,c)}({$controls:t,theme:c}))});var E;const L=j.d.svg(E||(E=Object(b.a)(["\n  > rect {\n    transition: all 0.2s ease-in;\n  }\n\n  &.play {\n    .left {\n      clip-path: path('M1.61 0 L10.1 4.9 L10.1 19.1 L1.61 24');\n    }\n\n    .right {\n      clip-path: path('M22.39 12 L9.9 4.79 L9.9 19.21 L22.39 12');\n    }\n  }\n\n  &.pause {\n    .left {\n      clip-path: path('M4.8 0 L10 0 L10 24 L4.8 24');\n    }\n\n    .right {\n      clip-path: path('M19.2 0 L14 0 L14 24 L19.2 24');\n    }\n  }\n"])));var F,T=n(20),P=n(19),A=n(73),R=n(25);const I=Object(j.d)(R.c)(e=>{let{theme:t}=e;return Object(j.c)(F||(F=Object(b.a)(["\n    grid-area: 1/1/2/2;\n    place-self: start start;\n    ","\n    padding: ",";\n    cursor: pointer;\n  "])),A.a,t.dimensions.bigSpacing)});function N(e){const{index:t}=e,n=Object(o.b)(),c=Object(T.f)(),r=a.a.useCallback(e=>{e.stopPropagation(),c.goBack(),n(Object(O.K)(t))},[n,c,t]),i=a.a.useCallback(e=>{e.stopPropagation(),n(Object(O.M)(t)),c.push(h.c.STORIES)},[n,c,t]);return c.location.pathname===h.c.STORIES?Object(s.jsx)(I,{onClick:r,"aria-label":"Exit fullscreen",title:"Exit fullscreen",children:Object(s.jsx)(P.h,{color:"white"})}):Object(s.jsx)(I,{onClick:i,"aria-label":"Enter fullscreen",title:"Enter fullscreen",children:Object(s.jsx)(P.m,{color:"white"})})}var M,D,B,z=n(44),V=n(15);const _=j.d.div(M||(M=Object(b.a)(["\n  grid-area: 3/1/4/2;\n  ","\n  place-self: end start;\n  place-items: start center;\n"])),V.f),Y=j.d.a(e=>{let{theme:t}=e;return Object(j.c)(D||(D=Object(b.a)(["\n    padding: ",";\n    cursor: pointer;\n    ","\n\n    svg {\n      transition: all "," ease-out;\n    }\n  "])),t.dimensions.bigSpacing,Object(A.a)({theme:t}),t.timings.transitionTime)}),q=Object(j.d)(R.c)(B||(B=Object(b.a)(["\n  cursor: pointer;\n"])));function H(e){const{fullSrc:t}=e,n=a.a.useCallback(e=>{e.stopPropagation(),Object(z.b)(t)},[t]);return Object(s.jsxs)(_,{children:[Object(s.jsx)(Y,{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Open In New Tab",title:t,children:Object(s.jsx)(P.n,{color:"white",title:"Open image in new tab"})}),Object(s.jsx)(q,{"aria-label":"Download Image",onClick:n,title:t,children:Object(s.jsx)(P.l,{color:"white"})})]})}var U,W,$,G,J,K,X,Q,Z;const ee=j.d.div($||($=Object(b.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: auto 1fr auto auto;\n\n  ",";\n"])),function(e){let{isVisible:t}=e;return t?Object(j.c)(U||(U=Object(b.a)([""]))):Object(j.c)(W||(W=Object(b.a)(["\n        opacity: 0;\n        animation: "," 0.4s ease-in;\n      "])),x)}),te=Object(j.d)(e=>{const{isPaused:t,videoRef:n,className:o,onChange:r,onEnded:i}=e,l=a.a.useRef(null),d=Object(j.f)(),u=Object(c.useCallback)(e=>{const t=Number(e.target.value);r(t)},[r]),b=Object(c.useCallback)(e=>{e.stopPropagation()},[]);return a.a.useEffect(()=>{if(i&&n)return n.addEventListener("ended",i),()=>n.removeEventListener("ended",i)}),a.a.useEffect(()=>{if(!t){let e;const t=()=>{if(null!==l&&void 0!==l&&l.current&&n){l.current.value=n.currentTime.toString();const e=n.currentTime/n.duration*100;l.current.style.backgroundImage="linear-gradient(90deg, ".concat(d.colors.accentColor," ").concat(e,"%, transparent ").concat(e,"%)")}e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}}},[t,d.colors.accentColor,d.colors.backgroundColor2,n]),Object(s.jsx)(S,{ref:l,type:"range",step:1,min:0,max:(null===n||void 0===n?void 0:n.duration)||0,onChange:u,className:o,onClick:b,$controls:!0,$accent:!0})})(e=>{let{theme:t}=e;return Object(j.c)(G||(G=Object(b.a)(["\n    grid-area: 4/1/4/4;\n    margin: ",";\n  "])),t.dimensions.bigSpacing)}),ne=Object(j.d)(function(e){const{onFinished:t=h.b,onBack:n=h.b,isActive:c}=e,r={ArrowRight:()=>t(),ArrowLeft:()=>n()};a.a.useEffect(()=>{const e=e=>{const t="".concat(e.key);t in r&&(e.preventDefault(),e.stopPropagation(),r[t]())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)});const i=Object(o.b)(),[l,d]=a.a.useState(!1),u=a.a.useCallback(e=>i(Object(O.M)(e)),[i]),b=1e3*Object(o.c)(g.g),j=a.a.useRef(null);return a.a.useEffect(()=>{const e=()=>d(!0);return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),a.a.useEffect(()=>{const e=()=>d(!1);return document.addEventListener("mouseup",e),document.addEventListener("touchend",e),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}}),a.a.useEffect(()=>{if(!l&&c){let e,n=(new Date).getTime();const c=()=>{if(j.current){const a=(new Date).getTime(),o=Number(j.current.value)+(a-n);n=a,j.current.value=o.toString();const r=o/b*100;j.current.style.backgroundImage="linear-gradient(90deg, #ffffff80 ".concat(r,"%, transparent ").concat(r,"%)"),o>=Number(j.current.max)?(t(),j.current&&(j.current.value="0")):e=requestAnimationFrame(c)}};return e=requestAnimationFrame(c),()=>{cancelAnimationFrame(e)}}},[b,c,l,t,e.index,u]),Object(s.jsx)(S,{ref:j,type:"range",step:1,min:0,max:b,onChange:h.b,onClick:h.b,$controls:!1,$accent:!1,className:e.className})})(e=>{let{theme:t}=e;return Object(j.c)(J||(J=Object(b.a)(["\n    grid-area: 4/1/4/4;\n    margin: ",";\n  "])),t.dimensions.bigSpacing)}),ce=Object(j.d)(function(e){const{onClick:t,className:n="",isPaused:c}=e;return Object(s.jsxs)(L,{name:"Play/Pause",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onClick:t,className:"".concat(n," ").concat(c?"play":"pause"),children:[Object(s.jsx)("rect",{className:"left",color:"currentColor",x:"0",y:"0",width:"24",height:" 24"}),Object(s.jsx)("rect",{className:"right",color:"currentColor",x:"0",y:"0",width:"24",height:" 24"})]})})(K||(K=Object(b.a)(["\n  height: 50px;\n  width: 50px;\n  grid-area: 2/2/3/3;\n  place-self: center center;\n  cursor: pointer;\n  fill: white;\n  ","\n"])),A.a),ae=j.d.span(e=>Object(j.c)(X||(X=Object(b.a)(["\n    grid-area: 3/3/4/4;\n    place-self: end end;\n    background: #00000080;\n    color: white;\n    border-radius: 4px;\n    padding: ",";\n    margin: ",";\n  "])),e.theme.dimensions.spacing,e.theme.dimensions.bigSpacing)),oe=j.d.div(Q||(Q=Object(b.a)(["\n  display: grid;\n  grid-area: 2/3/3/4;\n  place-items: center;\n  opacity: 0;\n"]))),re=j.d.div(Z||(Z=Object(b.a)(["\n  display: grid;\n  grid-area: 2/1/3/2;\n  place-items: center;\n  opacity: 0;\n"])));function ie(e){const{index:t,fullSrc:n,isFullscreen:c,isActive:a,onFinished:o,onBack:r}=e;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{index:t}),Object(s.jsx)(H,{fullSrc:n}),c&&Object(s.jsx)(ne,{index:t,onFinished:o,onBack:r,isActive:a})]})}function se(e){const{fullSrc:t,isPaused:n,index:c,onTogglePaused:a,isFullscreen:o,isActive:r,onFinished:i,onBack:l}=e;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{index:c}),Object(s.jsx)(H,{fullSrc:t}),Object(s.jsx)(ce,{isPaused:n,onClick:a,"aria-label":"Play/Pause"}),o&&Object(s.jsx)(ne,{index:c,isPaused:n,onBack:l,onFinished:i,isActive:r}),Object(s.jsx)(ae,{children:"GIF"})]})}function le(e){const{fullSrc:t,isPaused:n,index:a,onTogglePaused:o,onSeek:r,duration:i,videoRef:l,isActive:d,onFinished:u}=e,b=Object(c.useCallback)(e=>{e.preventDefault(),l&&r(l.currentTime+10)},[r,l]),j=Object(c.useCallback)(e=>{e.preventDefault(),l&&r(l.currentTime-10)},[r,l]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{index:a}),Object(s.jsx)(H,{fullSrc:t}),Object(s.jsx)(re,{onDoubleClick:j,children:Object(s.jsx)(P.d,{tabIndex:0})}),Object(s.jsx)(ce,{isPaused:n||!d,onClick:o,"aria-label":"Play/Pause"}),Object(s.jsx)(oe,{onDoubleClick:b,children:Object(s.jsx)(P.p,{tabIndex:0})}),Object(s.jsx)(ae,{children:Object(C.c)(i)}),Object(s.jsx)(te,{isPaused:n||!d,videoRef:l,onChange:r,onEnded:u})]})}function de(e){switch(e.type){case"image":return Object(s.jsx)(ie,Object(r.a)({},e));case"gif":return Object(s.jsx)(se,Object(r.a)({},e));case"video":return Object(s.jsx)(le,Object(r.a)({},e))}}function ue(e){const{isVisible:t,setVisible:n}=e,c=a.a.useCallback(()=>n(!t),[t,n]);return Object(s.jsx)(ee,{isVisible:t,onClick:c,"data-testid":"overlay-wrapper","data-name":"overlay",className:"overlay",children:de(e)})}var be,je=n(68),he=n(56);var me,Oe,ge=j.d.video(be||(be=Object(b.a)(["\n  ","\n  ","\n  grid-area: 1/1/2/2;\n"])),je.a,je.c);const pe=Object(j.d)(ge)(me||(me=Object(b.a)(["\n  ","\n"])),je.b),fe=Object(j.d)(he.a)(Oe||(Oe=Object(b.a)(["\n  ","\n"])),je.b);function xe(e){const{viewSrc:t,fullSrc:n,index:c,onLoad:a=h.b,width:o,height:r,isFullscreen:i,isActive:l,onFinished:d,onBack:u}=e;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(fe,{"data-testid":"image",src:t,alt:t,onLoad:a,loading:"lazy",width:o,height:r}),Object(s.jsx)(ue,{type:"image",fullSrc:n,index:c,isVisible:!0,setVisible:h.b,isFullscreen:i,onFinished:d,onBack:u,isActive:l})]})}let ve=[];const we=new IntersectionObserver(e=>{e.forEach(e=>{const t=ve.find(t=>t.element===e.target);t&&t.update(e.isIntersecting)})},{threshold:1});let ye,ke,Ce=!1,Se=[];function Ee(e){const[t,n]=a.a.useState(!1),[c]=function(e){const[t,n]=a.a.useState(!1),c=a.a.useCallback(e=>{n(e)},[]);return a.a.useEffect(()=>{if(e){const t={element:e,update:c};return ve.push(t),we.observe(e),()=>{ve.filter(e=>e!==t),we.unobserve(e)}}},[c,e]),[t]}(e),o=(()=>{const[e,t]=a.a.useState(Ce);return void 0===ye&&(ye=e=>{Ce=!0,Se.forEach(e=>e(Ce)),ke&&clearTimeout(ke),ke=setTimeout(()=>{Ce=!1,Se.forEach(e=>e(Ce))},500)},document.addEventListener("scroll",ye,{passive:!0})),a.a.useEffect(()=>(Se.push(t),t(Ce),()=>{Se=Se.filter(e=>e!==t),0===Se.length&&ye&&(document.removeEventListener("scroll",ye),ye=void 0)}),[]),e})();return a.a.useEffect(()=>{c&&!o&&n(!0)},[c,o]),a.a.useEffect(()=>{c||n(!1)},[c]),t}function Le(e){const{viewSrc:t,thumbnailSrc:n,fullSrc:r,onLoad:i=h.b,index:l,width:d,height:u,detailsVisible:b,isFullscreen:j,onFinished:m,isActive:O}=e,[p,f]=a.a.useState(!0),[x,v]=Object(c.useState)(!1),[w,y]=Object(c.useState)(null),k=Object(o.c)(g.f),C=Ee(w),S=Object(o.c)(g.v),E=x?t:n,L=a.a.useCallback(async()=>{v(!0)},[]),F=a.a.useCallback(()=>{v(!1)},[]),T=a.a.useCallback(e=>{e.stopPropagation(),x?v(!1):(v(!0),f(!1))},[x]);return a.a.useEffect(()=>{(k||j)&&C&&(v(!0),f(!1)),C||v(!1)},[C,j,F,L,k]),Object(c.useEffect)(()=>{if(S){(new Image).src=t}}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(fe,{"data-testid":"gif",ref:y,src:E,alt:E,loading:"lazy",onLoad:i,width:d,height:u}),Object(s.jsx)(ue,{isVisible:!x||p||b,setVisible:f,type:"gif",fullSrc:r,index:l,isPaused:!x,onTogglePaused:T,isFullscreen:j,onFinished:m,isActive:O})]})}function Fe(e){const{viewSrc:t,fullSrc:n,onLoad:r=h.b,index:i,width:l,height:d,detailsVisible:u,isFullscreen:b,isActive:j,onFinished:m}=e,[O,p]=Object(c.useState)(!1),[f,x]=a.a.useState(!0),[v,w]=Object(c.useState)(null),y=Ee(v),k=Object(o.c)(g.w)?"auto":"metadata",C=Object(o.c)(g.f),S=a.a.useCallback(async()=>{if(null!==v&&void 0!==v&&v.paused)try{await v.play(),p(!0)}catch(e){e.message.includes("user didn't interact with the document first")?console.warn("Autoplay failed because the user did not interact with the page first:",e):e.message.includes("play() request was interrupted by a call to pause()")?console.warn("Play was interrupted by pause",e):console.error("Failed to start video:",e)}},[v]),E=a.a.useCallback(()=>{if(null===v||void 0===v||!v.paused)try{null===v||void 0===v||v.pause(),p(!1)}catch(e){console.error("Failed to start video:",e)}},[v]),L=a.a.useCallback(e=>{v&&(v.currentTime=e)},[v]),F=a.a.useCallback(e=>{e.stopPropagation(),v&&(v.paused?(S(),x(!1)):E())},[E,S,v]);return a.a.useEffect(()=>{(C||b)&&y&&(S(),x(!1)),y||E()},[y,b,E,S,C]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pe,{"data-testid":"video",controls:!1,loop:!b,preload:k,ref:w,onLoadedMetadata:r,width:l,height:d,src:t}),Object(s.jsx)(ue,{type:"video",index:i,fullSrc:n,isPaused:!O,duration:(null===v||void 0===v?void 0:v.duration)||0,onTogglePaused:F,onSeek:L,videoRef:v,isVisible:!1===O||u||f,setVisible:x,isFullscreen:b,onFinished:m,isActive:j})]})}function Te(e){const{type:t,thumbnailSrc:n,sampleSrc:c,fullSrc:r,index:i,onLoad:l,width:d,height:u,detailsVisible:b,isFullscreen:j=!1,onBack:h,onFinished:m,isActive:O=!1}=e,[p,f]=function(e,t,n,c){const r=Object(o.c)(g.p);return a.a.useMemo(()=>{switch(e){case"image":return r?["",c]:["",n];case"gif":return n.includes(".gif")?[t,n]:[n,c];case"video":return[t,c]}},[c,r,n,t,e])}(t,n,c,r);switch(t){case"image":return Object(s.jsx)(xe,{viewSrc:f,fullSrc:r,onLoad:l,index:i,width:d,height:u,isFullscreen:j,onFinished:m,onBack:h,isActive:O});case"gif":return Object(s.jsx)(Le,{detailsVisible:b,viewSrc:f,thumbnailSrc:p,fullSrc:r,onLoad:l,index:i,width:d,height:u,isFullscreen:j,onFinished:m,onBack:h,isActive:O});case"video":return Object(s.jsx)(Fe,{detailsVisible:b,viewSrc:f,thumbnailSrc:p,fullSrc:r,onLoad:l,index:i,width:d,height:u,isFullscreen:j,onFinished:m,onBack:h,isActive:O})}}var Pe,Ae,Re=n(76),Ie=n(78),Ne=n(72);function Me(e){let{value:t}=e;return Object(s.jsxs)(Ne.a,{"data-testid":"text-source",children:[Object(s.jsx)(P.x,{color:"white"}),Object(s.jsx)("span",{children:t})]})}var De=j.d.a(e=>{let{color:t,theme:n}=e;return Object(j.c)(Pe||(Pe=Object(b.a)(["\n    ","\n    ",";\n    white-space: nowrap;\n\n    svg {\n      height: 16px;\n    }\n  "])),Object(V.f)({theme:n}),t?Object(j.c)(Ae||(Ae=Object(b.a)(["\n          color: "," !important;\n        "])),t):"")});function Be(e){let{value:t}=e;const n=Object(j.f)().colors.accentColor,c=Object(C.d)(t);return Object(s.jsxs)(De,{"data-testid":"link-source",color:n,href:t,target:"_blank",rel:"noopener noreferrer",className:"source",children:[Object(s.jsx)(P.s,{color:n}),c]})}function ze(e){return e.split(" ")[0].split("?")[0].split("/")[0]}const Ve={"twitter.com/":["#1da1f2",P.C,e=>ze(e.split("twitter.com/")[1])],"pixiv.net/":["#0096FA",function(e){return Object(s.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsx)("path",{fill:"currentColor",d:"M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"})})},()=>"Pixiv"],"patreon.com/":["#FF424D",P.u,e=>{const t=e.split("patreon.com/")[1];return t.startsWith("posts/")?function(e){return e.split(" ")[0].split("?")[0].split("/")[1]}(t):ze(t)}],"deviantart.com/":["#00e59b",P.j,e=>ze(e.split("deviantart.com/")[1])],"discordapp.com/":["#7289DA",P.k,()=>"Discord"],"tumblr.com":["#75869C",P.B,e=>new URL(e).hostname.split(".")[0]]};function _e(e){const{value:t,color:n,Icon:c,title:a}=e;return Object(s.jsxs)(De,{"data-testid":"known-source",href:t,target:"_blank",rel:"noopener noreferrer",className:"source",color:n,children:[Object(s.jsx)(c,{}),a]})}function Ye(e){let{value:t}=e;if(Object(z.f)(t)){const e=t.split(" ");return Object(s.jsx)(s.Fragment,{children:e.map(e=>{const t=Object.keys(Ve).find(t=>e.includes(t));if(t){const[n,c,a]=Ve[t];return Object(s.jsx)(_e,{value:e,color:n,Icon:c,title:a(e)},e)}return Object(s.jsx)(Be,{value:e},e)})})}return Object(s.jsx)(Me,{value:t})}var qe,He=n(49),Ue=n(37);const We=j.d.div(qe||(qe=Object(b.a)(["\n  ","\n  ","\n  \n  flex-wrap: wrap;\n  grid-row: 4/5;\n"])),V.e,Ue.b);var $e,Ge,Je,Ke;const Xe=j.d.p($e||($e=Object(b.a)(["\n  line-height: 1.25em;\n"]))),Qe=Object(j.d)(He.b)(Ge||(Ge=Object(b.a)(["\n  display: block;\n  line-height: 1.25em;\n  overflow-wrap: anywhere;\n"]))),Ze=j.d.p(Je||(Je=Object(b.a)(["\n  text-align: center;\n  padding: 12px;\n"]))),et=j.d.div(Ke||(Ke=Object(b.a)(["\n  display: content;\n"])));function tt(e){const{comments:t}=e;return Object(s.jsx)(We,{children:0===t.length?Object(s.jsx)(Ze,{children:"No comments found"}):t.map((e,t)=>Object(s.jsxs)(et,{children:[Object(s.jsx)(Xe,{children:e.creator}),Object(s.jsx)(Qe,{children:e.body})]},t))})}var nt;const ct=Object(j.d)(He.b)(nt||(nt=Object(b.a)(["\n  white-space: nowrap;\n"])));function at(e){const{created_at:t,width:n,height:c,id:a,status:o}=e,r=new Date(t);return Object(s.jsxs)(We,{children:[Object(s.jsxs)(Ne.a,{title:"Id",children:[Object(s.jsx)(P.x,{}),Object(s.jsx)(ct,{"data-testid":"id",children:a})]}),Object(s.jsxs)(Ne.a,{title:"Upload Date",children:[Object(s.jsx)(P.e,{}),Object(s.jsxs)(ct,{"data-testid":"date",children:[Object(C.b)(r)," (",Object(C.g)(Date.now()-r.getTime())," ago)"]})]}),Object(s.jsxs)(Ne.a,{title:"Status",children:[Object(s.jsx)(P.g,{}),Object(s.jsx)(ct,{"data-testid":"status",children:o})]}),Object(s.jsxs)(Ne.a,{title:"Measurements",children:[Object(s.jsx)(P.r,{}),Object(s.jsxs)(ct,{"data-testid":"size",children:[n," x ",c]})]})]})}const ot={e:"Explicit",q:"Questionable",s:"Safe"};function rt(e){const{value:t}=e,n=Object(j.f)();return Object(s.jsxs)(Ne.a,{"data-testid":"rating",title:ot[t],children:[Object(s.jsx)(P.v,{color:n.colors.text}),Object(s.jsx)("span",{children:t.toUpperCase()})]})}var it,st,lt;const dt=Object(j.d)(Ne.a)(e=>{let{$liked:t,theme:n}=e;return Object(j.c)(it||(it=Object(b.a)(["\n    transition: transform 0.1s ease-out;\n    cursor: pointer;\n\n    ","\n  "])),t?Object(j.c)(st||(st=Object(b.a)(["\n          color: ",";\n\n          svg {\n            color: ",";\n          }\n        "])),n.colors.liked,n.colors.liked):Object(j.c)(lt||(lt=Object(b.a)([""]))))});function ut(e){const{value:t,postId:n}=e,a=Object(o.b)(),r=Object(o.c)(Object(g.m)(n)),i=Object(c.useCallback)(e=>{e.stopPropagation(),r||a(Object(O.G)(n))},[a,r,n]);return Object(s.jsxs)(dt,{onClick:i,$liked:r,"data-testid":"score",title:"Like this post",children:[Object(s.jsx)(P.q,{color:"white"}),Object(s.jsx)("span",{children:Object(C.a)(t+Object(z.a)(r))})]})}var bt,jt,ht,mt,Ot,gt=n(85),pt=n(83);const ft=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(bt||(bt=Object(b.a)(["\n    grid-row: 2/3;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    ","\n    ","\n    border-radius: 0 0 "," ",";\n  "])),Object(p.e)({theme:t}),Ue.b,t.dimensions.borderRadius,t.dimensions.borderRadius)}),xt=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(jt||(jt=Object(b.a)(["\n    ","\n    justify-content: space-around;\n    margin-top: ",";\n    grid-row: 3/4;\n  "])),V.f,t.dimensions.bigSpacing)}),vt=j.d.span(ht||(ht=Object(b.a)(["\n  cursor: pointer;\n\n  ","\n"])),e=>{let{active:t,theme:n}=e;return t?Object(j.c)(mt||(mt=Object(b.a)(["\n          color: ",";\n        "])),n.colors.accentColor):""}),wt=Object(j.d)(Ie.a)(e=>{let{theme:t}=e;return Object(j.c)(Ot||(Ot=Object(b.a)(["\n    grid-row: 4/5;\n    padding: ",";\n  "])),t.dimensions.bigSpacing)});function yt(e){const t=Object(o.b)(),[n]=Object(pt.a)(),{postId:i,onLoad:l=h.b,activeTab:d,setActiveTab:u,hasComments:b}=e,{rating:j,score:m,tags:p,source:f,change:x,status:v,height:w,width:y,comments:k}=Object(o.c)(Object(g.s)(i)),C=Object(c.useMemo)(()=>Object(z.e)(p.map(e=>({name:e,types:[]})),"name"),[p]),S=Object(o.c)(g.z),E=Object(o.c)(g.y),L=Object(gt.a)(),F=Object(Re.a)(),T=Object(c.useCallback)(e=>{e.stopPropagation(),u("tags")},[u]),P=Object(c.useCallback)(e=>{e.stopPropagation(),u("comments")},[u]),A=Object(c.useCallback)(e=>{e.stopPropagation(),u("metadata")},[u]),R=a.a.useCallback(e=>{t(Object(O.A)(Object(r.a)(Object(r.a)({},e),{},{modifier:n})))},[t,n]);return Object(c.useEffect)(()=>{l()},[l,d]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(ft,{children:[Object(s.jsx)(rt,{value:j}),Object(s.jsx)(ut,{value:m,postId:i}),!!f&&Object(s.jsx)(Ye,{value:f})]}),(E&&b||S)&&Object(s.jsxs)(xt,{children:[Object(s.jsx)(vt,{active:"tags"===d,onClick:T,title:"Show tags",children:"Tags"}),E&&b&&Object(s.jsx)(vt,{active:"comments"===d,onClick:P,title:"Show comments",children:"Comments"}),S&&Object(s.jsx)(vt,{active:"metadata"===d,onClick:A,title:"Show metadata",children:"Metadata"})]}),{tags:Object(s.jsx)(wt,{tags:C,detailed:!1,onTagClick:F,getIsActive:L,onTagMenu:R}),comments:Object(s.jsx)(tt,{comments:null!==k&&void 0!==k?k:[]}),metadata:Object(s.jsx)(at,{created_at:x.toString(),status:v,width:y,height:w,id:i})}[d]]})}var kt,Ct,St;const Et=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(kt||(kt=Object(b.a)(["\n    padding-top: ",";\n  "])),t.dimensions.bigSpacing)}),Lt=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(Ct||(Ct=Object(b.a)(["\n    padding: 0 ",";\n    width: 100%;\n    max-width: ",";\n    margin: auto;\n  "])),t.dimensions.bigSpacing,t.dimensions.bodyWidth)}),Ft=j.d.div(St||(St=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto auto auto auto;\n  ","\n\n  // Set area of media and overlay\n    img, video {\n    grid-area: 1/1/2/2;\n    z-index: ",";\n  }\n\n  .overlay {\n    grid-area: 1/1/2/2;\n    z-index: ",";\n  }\n"])),p.e,f.a.POST,f.a.OVERLAY);function Tt(e){const{style:t,virtualRef:n,type:c,sample_url:a,file_url:o,preview_url:r,onLoad:i=h.b,id:l,width:d,height:u,comments:b,has_comments:j,index:m}=e;return Object(s.jsx)(Et,{style:t,ref:n,className:"list-div",children:Object(s.jsx)(Lt,{children:Object(s.jsx)(Pt,{type:c,sample_url:a,file_url:o,preview_url:r,onLoad:i,id:l,width:d,height:u,comments:b,has_comments:j,index:m})})})}const Pt=a.a.memo(e=>{const{type:t,sample_url:n,file_url:a,preview_url:r,onLoad:i=h.b,id:l,width:d,height:u,comments:b,has_comments:j,index:p}=e,f=Object(o.b)(),[x,v]=Object(c.useState)("tags"),[w,y]=Object(m.a)(!0),k=Object(o.c)(g.A),C=Object(o.c)(g.y);return Object(c.useEffect)(()=>{i()},[i,w]),Object(c.useEffect)(()=>{!w&&C&&j&&!b&&f(Object(O.C)(l))},[w,C,j,b,f,l]),Object(s.jsxs)(Ft,{onClick:y,role:"row","data-name":"post-wrapper",tabIndex:0,children:[Object(s.jsx)(Te,{detailsVisible:!w,type:t,thumbnailSrc:r,sampleSrc:n,fullSrc:a,onLoad:i,index:p,width:d,height:u,isActive:!0}),k&&!w&&Object(s.jsx)(yt,{postId:l,onLoad:i,activeTab:x,setActiveTab:v,hasComments:j})]})});var At=n(14),Rt=n(88),It=n(45);let Nt=!1;function Mt(){const e=Object(It.a)(O.F),t=Object(o.b)(),n=function(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,[t,n]=Object(c.useState)(null===e||void 0===e?void 0:e.type);return Object(c.useEffect)(()=>{if(e){const t=()=>n(e.type);return e.addEventListener("change",t,{passive:!0}),()=>e.removeEventListener("change",t)}},[e]),t}(),r=Object(o.c)(g.w),i=Object(o.c)(g.f),l=Object(o.c)(g.p),d=a.a.useCallback(()=>{!Nt&&"cellular"===n&&(r||i||l)?(t(Object(O.H)(h.a.CELLULAR_WARNING)),Nt=!0):e()},[i,n,t,l,r,e]);return Object(s.jsxs)(R.b,{onClick:d,"aria-label":"Search",children:[Object(s.jsx)(P.w,{}),"Search"]})}var Dt,Bt,zt=n(84),Vt=n(86),_t=n(75);const Yt=Object(j.d)(He.d)(e=>{let{theme:t}=e;return Object(j.c)(Dt||(Dt=Object(b.a)(["\n    padding-top: ",";\n  "])),t.dimensions.hugeSpacing)}),qt=Object(j.d)(_t.b)(e=>{let{theme:t,$compact:n}=e;return Object(j.c)(Bt||(Bt=Object(b.a)(["\n    padding: ",";\n    ",";\n  "])),n?t.dimensions.bigSpacing:t.dimensions.hugeSpacing,Object(Ue.e)(n?t.dimensions.bigSpacing:t.dimensions.hugeSpacing))});function Ht(e){const{title:t,children:n,className:c,compact:a=!1}=e;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Yt,{children:t}),Object(s.jsx)(qt,{$compact:a,className:c,children:n})]})}var Ut,Wt=n(59),$t=n(62);const Gt=j.d.input(e=>Object(j.c)(Ut||(Ut=Object(b.a)(["\n    background: ",";\n    padding: ",";\n    ","\n    border: none;\n    outline: none;\n    color: ",";\n    width: 3.4rem;\n    text-align: right;\n    font-size: ",";\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  "])),e.theme.colors.backgroundColor,e.theme.dimensions.spacing,p.a,e.theme.colors.accentColor,e.theme.fontSizes.content));var Jt,Kt;const Xt=j.d.div(Jt||(Jt=Object(b.a)(["\n  ","\n"])),V.f),Qt=Object(j.d)($t.a)(Kt||(Kt=Object(b.a)(["\n  height: 28px; // prevent layout shift when toggling\n"])));function Zt(){const[e,t]=Object(Wt.a)("rated"),[n,c]=Object(Wt.a)("ratedThreshold"),o=a.a.useCallback(()=>t(!e),[e,t]),[r,i]=a.a.useState(n?n.toString():"1"),l=a.a.useCallback(e=>i(e.target.value),[]),d=a.a.useCallback(()=>c(Number(r)),[r,c]),u=a.a.useCallback(e=>{"Enter"===e.key&&e.target.blur()},[]);return Object(s.jsx)(Qt,{value:e,onToggle:o,children:e?Object(s.jsxs)(Xt,{children:[Object(s.jsx)("span",{children:"More than"}),Object(s.jsx)(Gt,{type:"number",value:r,onChange:l,onBlur:d,onKeyDown:u}),Object(s.jsx)("span",{children:"likes"})]}):"Only show popular posts"})}var en,tn,nn;const cn=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(en||(en=Object(b.a)(["\n    width: 120px;\n    height: ",";\n  "])),t.dimensions.blockHeight)}),an=j.d.select(tn||(tn=Object(b.a)(["\n  ","\n\n  width: 100%;\n  height: 100%;\n"])),p.c),on=j.d.option(e=>{let{theme:t}=e;return Object(j.c)(nn||(nn=Object(b.a)(["\n    ","\n    background-color: ",";\n    ","\n  "])),Object(p.b)({theme:t}),t.colors.backgroundColor2,Object(V.c)({theme:t}))});function rn(e){const{options:t,value:n,onChange:c}=e;return Object(s.jsx)(cn,{children:Object(s.jsx)(an,{value:n,onChange:c,children:Object.entries(t).map(e=>{let[t,n]=e;return Object(s.jsx)(on,{value:t,children:n},t)})})})}var sn;const ln=j.d.div(sn||(sn=Object(b.a)(["\n  ","\n  height: ",";\n"])),V.f,e=>{let{theme:t}=e;return t.dimensions.blockHeight}),dn={"score:desc":"Score","date:desc":"Date"};function un(){const[e,t]=Object(Wt.a)("sort"),n=a.a.useCallback(e=>t(e.target.value),[t]);return Object(s.jsxs)(ln,{children:[Object(s.jsx)("span",{children:"Sort by:"}),Object(s.jsx)(rn,{options:dn,value:e,onChange:n})]})}var bn,jn=n(31);n(65);const hn=j.d.section(bn||(bn=Object(b.a)(["\n  ","\n  ","\n  ","\n"])),V.d,Ue.b,V.b);function mn(e){const{onLoad:t}=e,[n]=function(){const[e,t]=Object(c.useState)(!1),[n,a]=Object(c.useState)(null);return Object(c.useEffect)(()=>{try{const e=jn.a.auth().onAuthStateChanged(e=>{e?(t(!0),a(e)):(t(!1),a(null))});return()=>{e()}}catch(e){t(!1),a(null)}},[]),[e,n]}(),a=Object(Vt.a)();return Object(s.jsx)(hn,{children:Object(s.jsxs)(Ht,{title:Object(s.jsx)("label",{htmlFor:"tag-input"}),compact:!0,children:[Object(s.jsx)(Rt.a,{onSubmit:a,showSupertags:!0}),Object(s.jsx)(zt.a,{onChange:t,offerSupertags:n}),Object(s.jsx)(Zt,{}),Object(s.jsx)(un,{}),Object(s.jsx)(Mt,{})]})})}function On(e){const t=Object(j.f)();return Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7",className:e.className,children:Object(s.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(s.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(s.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(s.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}function gn(){const e=Object(j.f)();return function(e){const[t,n]=a.a.useState(window.navigator.onLine);return a.a.useEffect(()=>{const t=()=>{var t;n(!0),null===e||void 0===e||null===(t=e.onOnline)||void 0===t||t.call(e)};return window.addEventListener("online",t),()=>window.removeEventListener("online",t)}),a.a.useEffect(()=>{const t=()=>{var t;n(!1),null===e||void 0===e||null===(t=e.onOffline)||void 0===t||t.call(e)};return window.addEventListener("offline",t),()=>window.removeEventListener("offline",t)}),t}()?Object(s.jsx)("div",{}):Object(s.jsx)(P.o,{title:"You are offline",color:e.colors.negative})}var pn,fn,xn,vn,wn,yn;const kn=j.d.header(e=>{let{theme:t}=e;return Object(j.c)(pn||(pn=Object(b.a)(["\n    ","\n    background: ",";\n  "])),V.d,t.colors.layerBgSolid)}),Cn=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(fn||(fn=Object(b.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    ","\n\n    > :first-child,\n    > :last-child {\n      width: ",";\n    }\n  "])),Ue.b,t.dimensions.blockHeight)}),Sn=j.d.a(e=>{let{theme:t}=e;return Object(j.c)(xn||(xn=Object(b.a)(["\n    color: ",";\n    text-decoration: underline;\n\n    @media (max-width: 520px) {\n      display: none;\n    }\n  "])),t.colors.accentColor)}),En=j.d.button(e=>{let{theme:t}=e;return Object(j.c)(vn||(vn=Object(b.a)(["\n    background: transparent;\n    color: ",";\n    border: 1px solid ",";\n    padding: 0.25rem 0.5rem;\n    cursor: pointer;\n    font-size: 0.85rem;\n  "])),t.colors.accentColor,t.colors.accentColor)}),Ln=j.d.span(e=>{let{theme:t}=e;return Object(j.c)(wn||(wn=Object(b.a)(["\n    color: ",";\n    font-size: 0.9rem;\n\n    @media (max-width: 520px) {\n      display: none;\n    }\n  "])),t.colors.subduedText)}),Fn=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(yn||(yn=Object(b.a)(["\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    align-items: center;\n    width: 100%%;\n    gap: 1rem;\n\n    & > .left,\n    & > .right {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    & > .middle {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      gap: 1rem;\n    }\n  "])))});function Tn(){const[e,t]=Object(c.useState)(null),[n,o]=Object(c.useState)(null),r=a.a.useRef(!1),i=()=>"".concat(Math.floor(10*Math.random())).concat(Math.floor(10*Math.random())).concat(Math.floor(10*Math.random()));return Object(c.useEffect)(()=>{try{const e=performance.getEntriesByType&&performance.getEntriesByType("navigation");if(e&&e.length>0){const n=e[0],c=n.loadEventEnd&&n.loadEventEnd>0?n.loadEventEnd:n.responseEnd||n.domComplete||n.responseStart||n.startTime,a="number"===typeof c?c-(n.startTime||0):null;if(null!==a&&!Number.isNaN(a)){const e=performance.now()%1,n=Number.isInteger(a)?a+e:a;return t(n),void(r.current||(o(i()),r.current=!0))}}const n=performance.timing;if(n&&n.navigationStart){const e=(performance.timeOrigin||Date.now())+performance.now();let c=e-n.navigationStart;if(n.loadEventEnd&&n.loadEventEnd>0){const t=n.loadEventEnd-n.navigationStart;c=t+(e-Date.now())}const a=performance.now()%1,s=Number.isInteger(c)?c+a:c;return t(s),void(r.current||(o(i()),r.current=!0))}const c=performance.now();t(c),r.current||(o(i()),r.current=!0)}catch(e){}},[]),Object(c.useEffect)(()=>{const e=document.createElement("script");e.src="/popunder.js",e.async=!0,document.body.appendChild(e);const t=document.createElement("script");return t.src="/popunder-debug.js",t.async=!0,document.body.appendChild(t),()=>{try{document.body.removeChild(e),document.body.removeChild(t)}catch(n){}}},[]),Object(c.useEffect)(()=>{const e=document.createElement("script");return e.defer=!0,e.src="https://cloud.umami.is/script.js",e.setAttribute("data-website-id","b33fc5ec-1681-4855-9236-0a41f819f326"),document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),Object(s.jsx)(kn,{role:"cell",children:Object(s.jsxs)(Cn,{children:[Object(s.jsx)("div",{}),Object(s.jsxs)(Fn,{children:[Object(s.jsxs)("div",{className:"left",children:[Object(s.jsx)(Sn,{href:"mailto:lajovey872@gta5hx.com",children:"DMCA"}),"undefined"===typeof window||"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?null:Object(s.jsx)(En,{onClick:()=>{try{const t=window.popMagic;if(!t)return void console.warn("popMagic not present");const n=t.isValidUserEvent;t.isValidUserEvent=function(){return!0};try{t.methods.default({target:document.body,isTrusted:!0,screenX:1,screenY:1,preventDefault:()=>{}})}catch(e){console.error("error triggering popMagic",e)}t.isValidUserEvent=n}catch(e){console.error(e)}},children:"Test Popunder"})]}),Object(s.jsx)("div",{className:"middle",children:Object(s.jsxs)(Ne.a,{children:[Object(s.jsx)(On,{size:64}),Object(s.jsx)(He.a,{style:{fontSize:"2em"},children:"Rule 34"})]})}),Object(s.jsx)("div",{className:"right",children:Object(s.jsxs)(Ln,{children:[null!==e?(()=>{const t=Math.floor(e),c=Math.floor(10*e)%10,a=n||i();return"".concat(t,".").concat(c).concat(a)})():"\u2014"," ","ms to load"]})})]}),Object(s.jsx)(gn,{})]})})}var Pn;const An=j.d.span(e=>{let{theme:t}=e;return Object(j.c)(Pn||(Pn=Object(b.a)(["\n    background: ",";\n    border-radius: ",";\n    padding: 0 ",";\n    align-self: center;\n    font-weight: bold;\n    border: 2px currentColor solid;\n  "])),t.colors.layerBg,t.dimensions.borderRadius,t.dimensions.spacing)});var Rn;const In=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(Rn||(Rn=Object(b.a)(["\n    text-align: center;\n    padding: ",";\n    max-width: ",";\n  "])),t.dimensions.hugeSpacing,t.dimensions.bodyWidth)}),Nn=[Object(s.jsxs)(He.b,{children:["You can exclude tags with the ",Object(s.jsx)(An,{children:"-"})," modifier."]}),"Try tapping the little plus in the tag search.",Object(s.jsxs)(He.b,{children:["Each result will have at least one of your ",Object(s.jsx)(An,{children:"~"})," tags."]}),"Check out the preferences. There are lots of useful options there.","You can get more info about a post be tapping it once.","Tapping on a tag below a post adds it to your active tags.",Object(s.jsxs)(He.b,{children:["Large gifs and videos can take a while to load in the app. If this becomes a problem you can open them in a new tab with ",Object(s.jsx)(P.n,{})]}),"If anything stops working or gets weird. Reset the app in preferences.","I hope you are having a nice day!",Object(s.jsxs)(He.b,{children:["If a tag is ambiguous, it will have a little arrow ",Object(s.jsx)(P.a,{}),". Tapping it shows related tags."]}),Object(s.jsxs)(He.b,{children:["Tapping ",Object(s.jsx)(P.m,{})," in the top left of posts brings you into fullscreen mode."]}),"Searching with no tags returns ALL posts ever made.","By default, results are sorted chronologically. Newest first. You can change this with the sort selector.","You can filter posts based on how explicit they are. Try entering 'rating' in the search field.","You can search for posts from a specific website by entering 'source:*twitter* for example.","You can upvote a post by tapping its score in the details.",'Wanna know more about a post? Enable "Show post metadata" in the options.',"Every time you load this page, a random tip will be shown here.","You can enable comments in the preferences. Not all post have comments though.","You can save and share your preferences across devices if you log in with your Google account.","Tapping the number of results displays the exact number instead of an approximation.","You can create supertags once you have two or more active tags. (And you need to be signed in)","Supertags are collections of tags that you can add together.","Supertags retain the modifiers of the tags they contain.","You can tap this tip to get another one.","You can change the modifier of an active tag by clicking and holding it on mobile and right clicking it on desktop.","You can share your supertags with friends under preferences.","Join the discord to get involved with other people who use the app.","I am taking feature request on my discord server.","Check out the about section for info/links about the app and myself.","If you are signed in, your settings are automatically saved online when you change them. This can take up to 15 seconds."],Mn=()=>Nn[Object(z.g)(Nn.length)];function Dn(){const[e,t]=a.a.useState(Mn()),n=a.a.useCallback(()=>t(Mn()),[]);return Object(s.jsx)(In,{role:"note",onClick:n,children:"string"===typeof e?Object(s.jsx)(He.b,{children:e}):e})}var Bn,zn;const Vn=Object(j.d)(Ne.a)(e=>{let{theme:t}=e;return Object(j.c)(Bn||(Bn=Object(b.a)(["\n    ","\n    width: 100%;\n    padding: ",";\n    max-width: ",";\n  "])),p.e,t.dimensions.hugeSpacing,t.dimensions.bodyWidth)}),_n=j.d.div(zn||(zn=Object(b.a)(["\n  ","\n"])),V.e);function Yn(){const e=new Date;return 11===e.getMonth()&&e.getDate()>=24?Object(s.jsx)(Vn,{children:Object(s.jsxs)(_n,{children:[Object(s.jsxs)(Ne.a,{children:[Object(s.jsx)(P.E,{size:"lg"}),Object(s.jsx)(He.c,{children:"Update News"})]}),Object(s.jsx)("p",{children:"\ud83c\udf84 Merry Christmas \ud83c\udf84"})]})}):null}var qn;const Hn=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(qn||(qn=Object(b.a)(["\n    ","\n    align-items: center;\n    max-width: ",";\n    margin: auto;\n\n    padding: 0 ",";\n\n    .fa-patreon {\n      color: #ff424d;\n    }\n  "])),V.e,t.dimensions.bodyWidth,t.dimensions.bigSpacing)});function Un(){return Object(s.jsxs)(Hn,{children:[Object(s.jsx)(Yn,{}),Object(s.jsx)(Dn,{})]})}var Wn;const $n=Object(j.d)(He.d)(Wn||(Wn=Object(b.a)(["\n  cursor: pointer;\n"])));function Gn(){const[e,t]=Object(m.a)(),n=Object(o.c)(g.j),c=e?n.toLocaleString():Object(C.a)(n);return Object(s.jsxs)($n,{id:"results",onClick:t,children:[c," results"]})}const Jn=j.d.div(e=>{let{theme:t}=e;return"\n  max-width: ".concat(t.dimensions.bodyWidth,";\n  margin: ").concat(t.dimensions.bigSpacing," auto;\n  text-align: center;\n  ")});function Kn(){const e=Object(o.c)(g.b),t=Object(o.c)(g.j),n=Object(c.useMemo)(()=>Object.keys(e||{}),[e]),a=n.map(e=>decodeURIComponent(e).replace(/_/g," ")),r=a.slice(0,3).join(", ")+(a.length>3?" and more":""),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;return e.length<=t?e:e.slice(0,t-1).trim()+"\u2026"}("Browse ".concat(t.toLocaleString()," results for ").concat(r," on Rule 34. Find images, galleries and illustrations tagged ").concat(a.slice(0,6).join(", "),". Updated frequently."),160),l=n.join(",");return Object(c.useEffect)(()=>{if(n&&0!==n.length)try{let e=document.querySelector('meta[name="description"]');e||(e=document.createElement("meta"),e.name="description",document.head.appendChild(e)),e.content=i;let t=document.querySelector('meta[property="og:description"]');t||(t=document.createElement("meta"),t.setAttribute("property","og:description"),document.head.appendChild(t)),t.content=i;const n=window.location.href;let c=document.querySelector('link[rel="canonical"]');c||(c=document.createElement("link"),c.setAttribute("rel","canonical"),document.head.appendChild(c)),c.href=n}catch(e){}},[i,t,l,n]),n&&0!==n.length?Object(s.jsx)(Jn,{"aria-hidden":!0,children:Object(s.jsx)(He.b,{children:i})}):null}var Xn;const Qn=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(Xn||(Xn=Object(b.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: ",";\n    margin-bottom: ",";\n\n    img {\n      max-width: 45%;\n      height: auto;\n      display: block;\n      -webkit-user-drag: none;\n      -khtml-user-drag: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n  "])),t.dimensions.hugeSpacing,t.dimensions.hugeSpacing)});function Zn(e){let{onLoad:t=h.b,virtualRef:n,style:a}=e;const r=Object(o.c)(g.j);return Object(c.useEffect)(()=>{r>0&&t()},[r,t]),Object(s.jsxs)("div",{onLoad:t,ref:n,style:a,role:"row",children:[Object(s.jsx)(Tn,{}),Object(s.jsx)(Qn,{children:Object(s.jsx)("img",{src:"https://raw.githubusercontent.com/squirrelcharts-boop/reimagined-carnival/refs/heads/main/image%20(2).png",alt:"hero",draggable:!1,onDragStart:e=>e.preventDefault()})}),Object(s.jsx)(Kn,{}),Object(s.jsx)(mn,{onLoad:t}),r>0?Object(s.jsx)(Gn,{}):Object(s.jsx)(Un,{})]})}var ec,tc,nc,cc=n(79),ac=n(82),oc=n(74);function rc(){return Object(T.g)().pathname===h.c.STORIES?Object(s.jsx)(sc,{}):Object(s.jsx)(ic,{})}function ic(){const e=a.a.useCallback(()=>window.scrollTo(0,0),[]);return Object(s.jsxs)(R.b,{onClick:e,children:[Object(s.jsx)(P.b,{})," Take me to the top"]})}function sc(){return Object(s.jsx)(oc.b,{to:h.c.SEARCH,children:Object(s.jsxs)(R.b,{children:[Object(s.jsx)(P.b,{})," Take me to the top"]})})}const lc=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(ec||(ec=Object(b.a)(["\n    padding: ",";\n  "])),t.dimensions.bigSpacing)}),dc=Object(j.d)(_t.b)(e=>{let{theme:t}=e;return Object(j.c)(tc||(tc=Object(b.a)(["\n    max-width: ",";\n    margin: auto;\n    text-align: center;\n  "])),t.dimensions.bodyWidth)}),uc=Object(j.d)(he.a)(nc||(nc=Object(b.a)(["\n  max-height: 50vh;\n"])));function bc(e){let{onLoad:t=h.b,virtualRef:n,style:c}=e;return Object(s.jsx)(lc,{style:c,ref:n,onLoad:t,role:"row",children:Object(s.jsx)(jc,{})})}function jc(){const e=Object(o.c)(g.e),t=Object(c.useMemo)(()=>e.reduce((e,t)=>(e[t.name]=Object(r.a)(Object(r.a)({},t),{},{types:[]}),e),{}),[e]),n=Object(Re.a)();return Object(s.jsxs)(dc,{children:[Object(s.jsx)(uc,{src:cc.a,alt:"Shironeko does not understand"}),Object(s.jsx)(ac.a,{}),Object(s.jsx)(He.c,{children:"You have reached the end!"}),Object(s.jsx)("p",{children:"Go look for something else!"}),e.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"How about some of these?"}),Object(s.jsx)(Ie.a,{tags:t,onTagClick:n,onTagMenu:h.b,detailed:!0})]}),Object(s.jsx)(rc,{})]})}var hc,mc=n(80);const Oc=j.d.div(hc||(hc=Object(b.a)(["\n  display: grid;\n  place-items: center;\n"])));function gc(e){let{onLoad:t=h.b,virtualRef:n,style:c}=e;return Object(s.jsx)(Oc,{onLoad:t,ref:n,style:c,role:"row",children:Object(s.jsx)(mc.a,{})})}var pc,fc;const xc=j.d.div(pc||(pc=Object(b.a)(["\n  ","\n  width: 100%;\n  min-height: 100%;\n"])),V.d);Object(j.d)(xc)(fc||(fc=Object(b.a)(["\n  ","\n"])),Ue.b);var vc;const wc=j.d.input(vc||(vc=Object(b.a)(["\n  ","\n\n  width: 70px;\n  text-align: left;\n"])),p.c);var yc,kc,Cc,Sc,Ec;const Lc=j.d.div(e=>{let{theme:t}=e;return Object(j.c)(yc||(yc=Object(b.a)(["\n    ","\n    grid-template-columns: 1fr auto 1fr;\n    justify-content: center;\n    place-items: center;\n    padding: ",";\n    padding-bottom: 0;\n    max-width: ",";\n    margin: auto;\n  "])),V.h,t.dimensions.bigSpacing,t.dimensions.bodyWidth)}),Fc=j.d.div(kc||(kc=Object(b.a)(["\n  display: flex;\n  place-self: flex-end;\n  gap: 8px;\n"]))),Tc=j.d.div(Cc||(Cc=Object(b.a)(["\n  display: flex;\n  place-self: flex-start;\n  gap: 8px;\n"]))),Pc=Object(j.d)(R.e)(Sc||(Sc=Object(b.a)(["\n  min-width: 50px;\n"]))),Ac=Object(j.d)(function(e){const{value:t,onSubmit:n,className:a,min:o,max:r,step:i}=e,[l,d]=Object(c.useState)(t.toString());Object(c.useEffect)(()=>{d(t.toString())},[t]);const u=Object(c.useCallback)(e=>{d(e.target.value)},[]),b=Object(c.useCallback)(()=>{n(Number(l))},[l,n]),j=Object(c.useCallback)(e=>{"Enter"===e.key&&e.target.blur()},[]);return Object(s.jsx)(wc,{type:"number",min:o,max:r,step:i,value:l,onChange:u,onBlur:b,onKeyDown:j,className:a})})(Ec||(Ec=Object(b.a)(["\n  min-width: 50px;\n"])));function Rc(e){const{currentPage:t,loadPage:n}=e,a=Object(o.c)(g.l),r=Object(c.useCallback)(e=>n(Number(e)),[n]),i=Object(c.useCallback)(()=>n(0),[n]),l=Object(c.useCallback)(()=>n(a),[n,a]),d=Object(c.useCallback)(()=>n(t-1),[t,n]),u=Object(c.useCallback)(()=>n(t+1),[t,n]);return Object(s.jsxs)(Lc,{className:"page-navigation",children:[Object(s.jsxs)(Fc,{children:[t>1&&Object(s.jsx)(Pc,{onClick:i,title:"First Page",children:"0"}),t>0&&Object(s.jsx)(Pc,{onClick:d,title:"Previous page",children:t-1})]}),Object(s.jsx)(Ac,{value:t,onSubmit:r,min:0,max:a,step:1}),Object(s.jsxs)(Tc,{children:[t<a&&Object(s.jsx)(Pc,{onClick:u,title:"Next Page",children:t+1}),t<a-1&&Object(s.jsx)(Pc,{onClick:l,title:"Last Page",children:a})]})]})}var Ic;const Nc=Object(j.d)(xc)(e=>{let{theme:t}=e;return Object(j.c)(Ic||(Ic=Object(b.a)(["\n    padding-bottom: ",";\n  "])),t.dimensions.bigSpacing)});function Mc(e){const{header:t,items:n,ItemComponent:a,currentPage:o,loadPage:i}=e,l=Object(c.useCallback)(e=>{i(e),document.getElementsByClassName("page-navigation")[0].scrollIntoView()},[i]);return Object(s.jsxs)(Nc,{children:[t,n&&n.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Rc,{currentPage:o,loadPage:i}),null===n||void 0===n?void 0:n.map((e,t)=>Object(s.jsx)(a,Object(r.a)({index:t},e),e.id)),Object(s.jsx)(Rc,{currentPage:o,loadPage:l})]})]})}function Dc(){const[e,t]=Object(c.useState)(!1),n=Object(o.b)(),r=Object(o.c)(g.b),[i,l]=Object(c.useState)(-1),u=Object(o.c)(g.H),b=Object(o.c)(g.t),j=Object(o.c)(g.k),h=Object(o.c)(g.x),m=Object(o.c)(g.r),p=Object(o.c)(g.q),f=Object(c.useCallback)(()=>{t(!0),n(Object(O.E)())},[n]),x=Object(c.useCallback)(e=>{t(!0),n(Object(O.F)(e))},[n]);a.a.useEffect(()=>{e&&u>i&&(t(!1),l((new Date).getTime()))},[e,i,u]),function(e){const t=Object(T.f)();a.a.useEffect(()=>{if(t.location.hash!==e){const n=()=>{t.push({pathname:t.location.pathname,hash:e})};return document.addEventListener("scroll",n,{passive:!0,once:!0}),()=>document.removeEventListener("scroll",n)}},[e,t])}("#results");var v;return v=(()=>{const e=Object.keys(r||{});if(!e||0===e.length)return"Rule 34";const t=e.map(e=>decodeURIComponent(e).replace(/_/g," ")).join(" ");return"Rule 34 - ".concat(t)})(),a.a.useEffect(()=>{document.title=v},[v]),Object(c.useEffect)(()=>{try{const e=window.location.hash||"",t=e.indexOf("?");if(-1!==t){const c=new URLSearchParams(e.slice(t+1)).get("tags");if(c){c.split(",").filter(Boolean).forEach(e=>{const t="-"===e[0],c=t?e.slice(1):e,a=decodeURIComponent(c),o=t?"-":"+";n(Object(O.A)({name:a,types:[],modifier:o}))})}}}catch(e){}},[]),Object(c.useEffect)(()=>{try{const e=Object.values(r||{}).map(e=>{const t="-"===e.modifier?"-":"";return"".concat(t).concat(encodeURIComponent(Object(At.f)(e.name)))});if(0===e.length)return;const t=e.join(","),n=(window.location.hash||"#/").split("?")[0];window.history.replaceState(null,"","".concat(n,"?tags=").concat(t))}catch(e){}},[r]),a.a.useEffect(()=>{const e=Object.keys(r||{}),t=setTimeout(()=>{e.length>0&&n(Object(O.F)(0))},100);return()=>clearTimeout(t)},[r,n]),Object(s.jsx)(s.Fragment,{children:"infinite_column"===h?Object(s.jsx)(d,{Header:Zn,OutOfItems:bc,items:b,LoadingItem:gc,hasMoreRows:j,ItemComponent:Tt,loadMore:f,isLoading:e}):Object(s.jsx)(Mc,{header:Object(s.jsx)(Zn,{}),pageSize:m,currentPage:p,hasMorePages:j,loadPage:x,ItemComponent:Tt,isLoading:e,items:b})})}}}]);
//# sourceMappingURL=4.ce00f32d.chunk.js.map